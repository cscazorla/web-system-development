<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="favicon.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Module 05 - Frontend</title>
  </head>
  <body>
    <div class="reveal">
      <div class="slides">
        <section>
          <h1>Web System Development</h1>
          <h2>Module 05: Frontend</h2>
        </section>
        <section>
          <section>
            <h1>What is Frontend Development?</h1>
            <ul>
              <li>
                üë®‚Äçüíª Focuses on the
                <strong>user-facing</strong>
                part of a web application
              </li>
              <li>üñ•Ô∏è Everything users see and interact with in their browser</li>
              <li>
                ‚öôÔ∏è Built with
                <strong>HTML, CSS, and JavaScript</strong>
              </li>
              <li>üé® Involves design, layout, interactivity, and responsiveness</li>
              <li>üì± Must work across devices and screen sizes</li>
            </ul>
          </section>
          <section>
            <h1>Frontend Developer Responsibilities</h1>
            <ul>
              <li>Designing and building UIs (buttons, menus, forms)</li>
              <li>Implementing layouts with responsive design</li>
              <li>Connecting to APIs to display dynamic data</li>
              <li>Handling user input and interactions</li>
              <li>Ensuring performance and accessibility</li>
            </ul>
          </section>
          <section>
            <h1>Modern Frontend Stack</h1>
            <ul>
              <li>
                <strong>HTML</strong>
                : content structure
              </li>
              <li>
                <strong>CSS</strong>
                : visual styling & layout
              </li>
              <li>
                <strong>JavaScript</strong>
                : behavior & logic
              </li>
              <li>
                <strong>Frameworks</strong>
                : React, Vue, Angular
              </li>
              <li>
                <strong>Tooling</strong>
                : Vite, npm, ESLint, Prettier
              </li>
              <li>
                <strong>Testing</strong>
                : Jest, Playwright, React Testing Library
              </li>
            </ul>
          </section>
        </section>

        <section>
          <section>
            <h1>What is React?</h1>
            <ul>
              <li>
                React lets you build user interfaces out of individual pieces called components.
              </li>
              <li>
                You can create your own React components like Thumbnail, LikeButton, and Video.
              </li>
              <li>Then combine them into entire screens, pages, and apps.</li>
            </ul>
            <img src="react-intro-01.png" alt="React Intro" />
          </section>
          <section>
            <h1>Components are JS functions</h1>
            <img width="80%" src="react-intro-02.png" alt="React Intro" />
            <ul>
              <li>
                Want to show some content conditionally? Use an
                <code>if</code>
                statement. Displaying a list? Try array
                <code>map()</code>
                .
              </li>
              <li>
                This markup syntax is called JSX. It is a JavaScript syntax extension popularized by
                React.
              </li>
              <li>
                Putting JSX markup close to related rendering logic makes React components easy to
                create, maintain, and delete.
              </li>
            </ul>
          </section>
          <section>
            <h1>Why Use React?</h1>
            <ul>
              <li>
                üîÅ
                <strong>Component-based</strong>
                architecture
              </li>
              <li>
                ‚ö° Efficient
                <strong>virtual DOM</strong>
                for fast UI updates
              </li>
              <li>
                üß†
                <strong>Declarative</strong>
                UI programming: describe what to render
              </li>
              <li>üì¶ Huge ecosystem and community</li>
              <li>üí™ Backed by Meta (Facebook)</li>
            </ul>
          </section>
          <section>
            <h1>Core Concepts in React</h1>
            <ul>
              <li>
                <strong>JSX</strong>
                : HTML-like syntax in JavaScript
              </li>
              <li>
                <strong>Components</strong>
                : Reusable UI blocks
              </li>
              <li>
                <strong>Props</strong>
                : Data passed to components
              </li>
              <li>
                <strong>State</strong>
                : Local component data
              </li>
              <li>
                <strong>Hooks</strong>
                : Functions to manage state and lifecycle
              </li>
            </ul>
          </section>
        </section>

        <section>
          <section>
            <h1>Getting Started</h1>
            <ul>
              <li>
                The easiest way to get started by far is by using
                <a href="https://vitejs.dev/" target="_blank">Vite</a>
                .
              </li>
              <li>
                Let's create an application called
                <i>introdemo</i>
                , navigate to its directory and install the libraries:
              </li>
            </ul>
            <pre>
              <code data-trim class="language-bash">
                npm create vite@latest introdemo -- --template react

                cd introdemo

                npm install
              </code>
            </pre>
          </section>
          <section>
            <h1>Running the application</h1>
            <div
              style="display: flex; gap: 0em; align-items: center; justify-content: space-around"
            >
              <ul>
                <li>
                  The application starts with
                  <code>npm run dev</code>
                </li>
                <li>
                  Vite starts the application
                  <a
                    href="https://vitejs.dev/config/server-options.html#server-port"
                    target="_blank"
                  >
                    by default
                  </a>
                  on port 5173. If it is not free, Vite uses the next free port number.
                </li>
              </ul>
              <div>
                <img src="vite-server-introdemo-react.png" alt="Vite server" />
              </div>
            </div>
          </section>
          <section>
            <p>
              Open the browser and a text editor so that you can view the code as well as the
              webpage at the same time on the screen:
            </p>
            <div style="display: flex; justify-content: center">
              <div>
                <img width="40%" src="vite-react-intro.png" alt="Vite React Intro" />
              </div>
              <div>
                <img width="40%" src="vite-react-files.png" alt="Vite React Files" />
              </div>
            </div>
          </section>
          <section>
            <ul>
              <li>
                The code of the application resides in the
                <code>src</code>
                folder.
              </li>
              <li>
                By default, the file
                <code>index.html</code>
                doesn't contain any HTML markup that is visible to us in the browser:
              </li>
              <li>
                You can try adding there some HTML to the file. However, when using React, all
                content that needs to be rendered is usually defined as React components.
              </li>
              <li>
                The command on the final line of file
                <code>main.jsx</code>
                renders its contents into the div-element, defined in the file
                <code>index.html</code>
                , having the id value
                <em>root</em>
                .
              </li>
            </ul>
            <div style="display: flex; justify-content: center">
              <pre><code class="language-html" data-trim>
              &lt;!doctype html&gt;
              &lt;html lang="en"&gt;
                &lt;head&gt;
                  &lt;meta charset="UTF-8" /&gt;
                  &lt;link rel="icon" type="image/svg+xml" href="/vite.svg" /&gt;
                  &lt;meta name="viewport" content="width=device-width, initial-scale=1.0" /&gt;
                  &lt;title&gt;Vite + React&lt;/title&gt;
                &lt;/head&gt;
                &lt;body&gt;
                  &lt;div id="root"&gt;&lt;/div&gt;
                  &lt;script type="module" src="/src/main.jsx"&gt;&lt;/script&gt;
                &lt;/body&gt;
              &lt;/html&gt;
            </code></pre>
              <pre>
              <code data-trim class="language-jsx">
                <script type="text/template">
                import { StrictMode } from 'react'
                import { createRoot } from 'react-dom/client'
                import './index.css'
                import App from './App.jsx'

                createRoot(document.getElementById('root')).render(
                  <StrictMode>
                    <App />
                  </StrictMode>,
                )
              </script>
              </code>
            </pre>
            </div>
          </section>
          <section>
            <h1>React StrictMode</h1>
            <ul>
              <li>
                <code>&lt;StrictMode&gt;</code>
                is a developer tool that helps you write better React code.
              </li>
              <li>
                It activates
                <strong>additional checks and warnings</strong>
                during development:
                <ul>
                  <li>Highlights unsafe lifecycle methods</li>
                  <li>Detects unexpected side effects</li>
                  <li>Warns about legacy API usage</li>
                  <li>Identifies components with duplicate rendering</li>
                </ul>
              </li>
              <li>
                <strong>Only runs in development</strong>
                - it has no impact on production builds.
              </li>
              <li>
                <strong>You should not remove it!</strong>
                It ensures your app is future-proof and clean.
              </li>
            </ul>
          </section>

          <section>
            <p>
              Let's simplify the default code such that the contents of the files
              <strong>App.jsx</strong>
              and
              <strong>App.css</strong>
              look like this:
            </p>
            <div style="display: flex; justify-content: center; gap: 1em; margin-bottom: 1em">
              <pre>
                <code data-trim class="language-jsx">
                  <script type="text/template">
                  import './App.css';

                  const App = () => {
                    console.log('Hello from component');
                    return (
                      <div>
                        <p>Hello world</p>
                      </div>
                    );
                  };

                  export default App;
                  </script>
                </code>
              </pre>
              <pre>
                <code data-trim class="language-css">
                  #root {
                    max-width: 1280px;
                    margin: 0 auto;
                    padding: 2rem;
                    text-align: center;
                  }
                </code>
              </pre>
            </div>

            <p>
              The file
              <code>App.jsx</code>
              defines a
              <strong>React component</strong>
              with the name
              <code>App</code>
              . The component will be rendered as a
              <code>div-tag</code>
              , which wraps a
              <code>p-tag</code>
              containing the text
              <em>Hello world</em>
              .
            </p>
          </section>
          <section>
            <p>It is also possible to render dynamic content inside of a component.</p>
            <pre>
              <code data-trim class="language-jsx">
                <script type="text/template">
                  const App = () => {
                    const now = new Date()
                    const a = 10
                    const b = 20
                    console.log(now, a+b)

                    return (
                      <div>
                        <p>Hello world, it is {now.toString()}</p>
                        <p>
                          {a} plus {b} is {a + b}
                        </p>
                      </div>
                    )
                  }
                </script>
              </code>
            </pre>
            <p>
              Any JavaScript code within the curly braces is evaluated and the result of this
              evaluation is embedded into the defined place in the HTML produced by the component.
            </p>
          </section>
          <section>
            <h1>Writing markup with JSX</h1>
            <ul>
              <li>
                The markup syntax you've seen above is called
                <em>JSX</em>
                .
              </li>
              <li>It is optional, but most React projects use JSX for its convenience.</li>
              <li>
                JSX is stricter than HTML:
                <ul>
                  <li>
                    You have to close tags like
                    <code>&lt;br /&gt;</code>
                    .
                  </li>
                  <li>Your component also can't return multiple JSX tags.</li>
                  <li>
                    You have to wrap them into a shared parent, like a
                    <code>&lt;div&gt;...&lt;/div&gt;</code>
                    or an empty
                    <code>&lt;&gt;...&lt;/&gt;</code>
                    wrapper:
                  </li>
                </ul>
              </li>
            </ul>
            <pre>
              <code data-trim class="language-jsx">
                <script type="text/template">
                  function AboutPage() {
                    return (
                      <>
                        <h1>About</h1>
                        <p>Hello there.<br />How do you do?</p>
                      </>
                    );
                  }
                </script>
              </code>
            </pre>
          </section>
        </section>
        <section>
          <section>
            <h1>Components</h1>
            <div
              style="display: flex; justify-content: space-around; align-items: center; gap: 1em"
            >
              <ul>
                <li>
                  React apps are made out of
                  <em>components</em>
                  .
                  <ul>
                    <li>
                      A component is a piece of the UI that has its own
                      <strong>logic</strong>
                      and
                      <strong>appearance</strong>
                      .
                    </li>
                    <li>
                      It can be as small as a
                      <strong>button</strong>
                      , or as large as an
                      <strong>entire page</strong>
                      .
                    </li>
                    <li>React components are JavaScript functions that return markup</li>
                  </ul>
                </li>
                <li>
                  Notice that
                  <code>&lt;Hello /&gt;</code>
                  starts with a capital letter. That's how you know it's a React component. React
                  component names must always start with a capital letter, while HTML tags must be
                  lowercase.
                </li>
                <li>
                  The
                  <code>export default</code>
                  keywords specify the main component in the file. If you're not familiar with some
                  piece of JavaScript syntax,
                  <a
                    href="https://developer.mozilla.org/en-US/docs/web/javascript/reference/statements/export"
                    target="_blank"
                  >
                    MDN
                  </a>
                  and
                  <a href="https://javascript.info/import-export" target="_blank">
                    javascript.info
                  </a>
                  have great references.
                </li>
                <li>Naturally, a component can be used multiple times</li>
              </ul>
              <pre>
                <code data-trim class="language-jsx">
                  <script type="text/template">
                    const Hello = () => {
                      return (
                        <div>
                          <p>Hello world</p>
                        </div>
                      );
                    };

                    const App = () => {
                      return (
                        <div>
                          <h1>Greetings</h1>

                          <Hello />
                        </div>
                      );
                    };

                    export default App;
                  </script>
                </code>
              </pre>
            </div>
          </section>
          <section>
            <h1>Props: passing data to components</h1>
            <p>
              It is possible to pass data to components using so-called
              <a href="https://react.dev/learn/passing-props-to-a-component" target="_blank">
                props
              </a>
              .
            </p>
            <pre>
              <code data-trim class="language-jsx">
                <script type="text/template">
                  const Hello = (props) => {
                    return (
                      <div>

                        <p>Hello {props.name}</p>
                      </div>
                    )
                  }

                  const App = () => {
                    return (
                      <div>
                        <h1>Greetings</h1>
                        <Hello name='George' />
                        <Hello name='Daisy' />
                      </div>
                    )
                  }
                </script>
              </code>
            </pre>
          </section>
          <section>
            <div
              style="display: flex; justify-content: space-around; align-items: center; gap: 1em"
            >
              <ul>
                <li>
                  There can be an arbitrary number of props and their values can be "hard-coded"
                  strings or the results of JavaScript expressions.
                </li>
                <li>
                  If the value of the prop is achieved using JavaScript it must be wrapped with
                  curly braces.
                </li>
                <li>
                  The props sent by the component
                  <i>App</i>
                  are the values of the variables, the result of the evaluation of the sum
                  expression and a regular string.
                </li>
              </ul>
              <pre>
                <code data-trim class="language-jsx">
                  <script type="text/template">
                    const Hello = (props) => {

                      console.log(props)
                      return (
                        <div>
                          <p>

                            Hello {props.name}, you are {props.age} years old
                          </p>
                        </div>
                      )
                    }

                    const App = () => {

                      const name = 'Peter'
                      const age = 10

                      return (
                        <div>
                          <h1>Greetings</h1>

                          <Hello name='Maya' age={26 + 10} />
                          <Hello name={name} age={age} />
                        </div>
                      )
                    }
                  </script>
                </code>
              </pre>
            </div>
          </section>
          <section>
            <div
              style="display: flex; justify-content: space-around; align-items: center; gap: 1em"
            >
              <ul>
                <li>
                  Component
                  <i>Hello</i>
                  also logs the value of the object props to the console.
                </li>
                <li>
                  The
                  <strong>console</strong>
                  should always be open!
                </li>
              </ul>
              <img width="50%" src="react-greetings-console.png" alt="React Greetings Console" />
            </div>
          </section>
          <section>
            <h1>Component helper functions</h1>
            <p>
              Let's expand our
              <i>Hello</i>
              component so that it guesses the year of birth of the person being greeted:
            </p>
            <pre>
              <code data-trim class="language-jsx">
                const Hello = (props) =&gt; {

                  const bornYear = () =&gt; {
                    const yearNow = new Date().getFullYear()
                    return yearNow - props.age
                  }

                  return (
                    <div>
                      <p>
                        Hello {props.name}, you are {props.age} years old
                      </p>

                      <p>So you were probably born in {bornYear()}</p>
                    </div>
                  )
                }
              </code>
            </pre>
          </section>
          <section>
            <h1>Adding Styles</h1>
            <p>
              In React, you specify a CSS class with
              <code>className</code>
              . It works the same way as the
              <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/class">
                HTML
              </a>
              class attribute:
            </p>
            <pre>
              <code data-trim class="language-html">
                <script type="text/template">
                  <img className="avatar" />
                </script>
              </code>
            </pre>
            <p>Then you write the CSS rules for it in a separate CSS file:</p>
            <pre>
              <code data-trim class="language-css">
                <script type="text/template">
                  /* In your CSS */
                  .avatar {
                    border-radius: 50%;
                  }
                </script>
              </code>
            </pre>
          </section>
          <section>
            <h1>Conditional Rendering</h1>
            <p>
              In React, there is no special syntax for writing conditions. Instead, you'll use the
              same techniques as you use when writing regular JavaScript code. For example, you can
              use an
              <a
                href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/if...else"
                target="_blank"
              >
                if
              </a>
              statement to conditionally include JSX:
            </p>
            <pre>
              <code data-trim class="language-jsx">
                <script type="text/template">
                  let content;
                  if (isLoggedIn) {
                    content = <AdminPanel />;
                  } else {
                    content = <LoginForm />;
                  }
                  return (
                    <div>
                      {content}
                    </div>
                  );
                </script>
              </code>
            </pre>
          </section>
          <section>
            <p>
              If you prefer more compact code, you can use the
              <a
                href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Conditional_Operator"
                target="_blank"
              >
                conditional ? operator.
              </a>
              Unlike
              <code>if</code>
              , it works inside JSX:
            </p>
            <pre>
              <code data-trim class="language-html">
                <script type="text/template">
                  <div>
                    {isLoggedIn ? (
                      <AdminPanel />
                    ) : (
                      <LoginForm />
                    )}
                  </div>
                </script>
              </code>
            </pre>
            <p>
              When you don't need the
              <code>else</code>
              branch, you can also use a shorter
              <a
                href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Logical_AND#short-circuit_evaluation"
                target="_blank"
              >
                logical
                <code>&amp;&amp;</code>
                syntax
              </a>
              :
            </p>
            <pre>
              <code data-trim class="language-html">
                <script type="text/template">
                  <div>
                    {isLoggedIn && <AdminPanel />}
                  </div>
                </script>
              </code>
            </pre>
          </section>
          <section>
            <h1>Rendering Lists</h1>
            <p>
              You will rely on JavaScript features like
              <a
                href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/for"
                target="_blank"
              >
                for loop
              </a>
              and the
              <a
                href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map"
                target="_blank"
              >
                array map() function
              </a>
              to render lists of components.
            </p>
            <pre>
              <code data-trim class="language-jsx">
                <script type="text/template">
                  const products = [
                    { title: 'Cabbage', id: 1 },
                    { title: 'Garlic', id: 2 },
                    { title: 'Apple', id: 3 },
                  ];

                  const listItems = products.map(product =>
                    <li key={product.id}>
                      {product.title}
                    </li>
                  );

                  return (
                    <ul>{listItems}</ul>
                  );
                </script>
              </code>
            </pre>
            <p>
              Notice how
              <code>&lt;li&gt;</code>
              has a
              <code>key</code>
              attribute. For each item in a list, you should pass a string or a number that uniquely
              identifies that item among its siblings.
            </p>
            <p>
              Usually, a key should be coming from your data, such as a database ID. React uses your
              keys to know what happened if you later insert, delete, or reorder the items.
            </p>
          </section>
          <section>
            <h1>Example</h1>
            <pre>
              <code data-trim class="language-jsx">
                <script type="text/template">
                  const products = [
                    { title: 'Cabbage', isFruit: false, id: 1 },
                    { title: 'Garlic', isFruit: false, id: 2 },
                    { title: 'Apple', isFruit: true, id: 3 },
                  ];

                  export default function ShoppingList() {
                    const listItems = products.map(product =>
                      <li
                        key={product.id}
                        style={{
                          color: product.isFruit ? 'green' : 'red'
                        }}
                      >
                        {product.title}
                      </li>
                    );

                    return (
                      <ul>{listItems}</ul>
                    );
                  }
                </script>
              </code>
            </pre>
          </section>
        </section>
        <section>
          <section>
            <h1>üõ† React Developer Tools</h1>
            <ul>
              <li>Browser extension for debugging and inspecting React apps</li>
              <li>Helps understand how components render and update</li>
              <li>Works with React in development mode</li>
            </ul>
          </section>

          <section>
            <h1>üîç Features of React DevTools</h1>
            <ul>
              <li>
                <strong>Component Inspector</strong>
                - See your app's component tree
              </li>
              <li>
                <strong>Props & State Viewer</strong>
                - View and edit component data
              </li>
              <li>
                <strong>Component Search</strong>
                - Quickly find a component by name
              </li>
              <li>
                <strong>Performance Profiler</strong>
                - Analyze render times and bottlenecks
              </li>
              <li>
                <strong>Hooks Inspector</strong>
                - See hook values inside components
              </li>
            </ul>
          </section>

          <section>
            <h1>üîß Installation</h1>
            <ul>
              <li>Install the browser extension:</li>
              <ul>
                <li>
                  <a
                    href="https://chromewebstore.google.com/detail/react-developer-tools/fmkadmapgofadopljbjfkapdkoienihi"
                    target="_blank"
                  >
                    Chrome Web Store
                  </a>
                </li>
                <li>
                  <a
                    href="https://addons.mozilla.org/en-US/firefox/addon/react-devtools/"
                    target="_blank"
                  >
                    Firefox Add-ons
                  </a>
                </li>
              </ul>
              <li>Once installed, open your app in development mode</li>
              <li>Open DevTools ‚Üí Look for the "‚öõÔ∏è Components" and "Profiler" tabs</li>
            </ul>
          </section>

          <section>
            <h1>üìä Using the Profiler</h1>
            <ul>
              <li>Tracks how long components take to render</li>
              <li>Identify unnecessary re-renders</li>
              <li>Use for performance optimizations</li>
              <li>
                Wrap your app in
                <code>&lt;React.Profiler&gt;</code>
                or just click "Record" in the Profiler tab
              </li>
            </ul>
          </section>

          <section>
            <h1>üß™ Live Editing</h1>
            <ul>
              <li>You can update props and state directly in DevTools</li>
              <li>See how the UI changes in real-time</li>
              <li>Useful for debugging and testing component behavior</li>
            </ul>
          </section>

          <section>
            <h1>Example View</h1>
            <img src="react-dev-tools.png" alt="React DevTools Screenshot" width="100%" />
          </section>
        </section>
        <section>
          <section>
            <h1>Stateful Components</h1>
            <ul>
              <li>
                All of our components up till now have been simple in the sense that they have not
                contained any state that could change during the lifecycle of the component.
              </li>
              <li>
                Often, you'll want your component to
                <strong>remember</strong>
                some information and display it. For example, maybe you want to count the number of
                times a button is clicked. To do this, add
                <strong>state</strong>
                to your component.
              </li>
              <li>
                State is a way to store information that can change over time. It is a way to make
                your component dynamic and interactive.
              </li>
            </ul>
          </section>
          <section>
            <h1>Responding to Events</h1>
            <p>
              You can respond to events by declaring
              <em>event handler</em>
              functions inside your components:
            </p>
            <pre>
              <code data-trim class="language-jsx">
                <script type="text/template">
                  function MyButton() {
                    function handleClick() {
                      alert('You clicked me!');
                    }

                    return (
                      <button onClick={handleClick}>
                        Click me
                      </button>
                    );
                  }
                </script>
              </code>
            </pre>
            <p>
              Notice how
              <code>onClick={handleClick}</code>
              has no parentheses at the end! Do not
              <em>call</em>
              the event handler function: you only need to
              <em>pass it down</em>
              . React will call your event handler when the user clicks the button.
            </p>
          </section>
          <section>
            <div
              style="
                display: flex;
                gap: 1rem;
                align-items: flex-start;
                justify-content: space-between;
              "
            >
              <div>
                <ul>
                  <li>
                    First, import
                    <code>useState</code>
                    from React. Now you can declare a state variable inside your component
                  </li>
                  <li>
                    You'll get two things from
                    <code>useState</code>
                    : the current state (
                    <code>count</code>
                    ), and the function that lets you update it (
                    <code>setCount</code>
                    ). You can give them any names, but the convention is to write
                    <code>[something, setSomething]</code>
                    .
                  </li>
                  <li>
                    The first time the button is displayed,
                    <code>count</code>
                    will be
                    <code>0</code>
                    because you passed
                    <code>0</code>
                    to
                    <code>useState()</code>
                    . When you want to change state, call
                    <code>setCount()</code>
                    and pass the new value to it. Clicking this button will increment the counter:
                  </li>
                  <li>
                    React will call your component function again. This time,
                    <code>count</code>
                    will be
                    <code>1</code>
                    . Then it will be
                    <code>2</code>
                    . And so on.
                  </li>
                  <li>
                    If you render the same component multiple times, each will get its own state.
                    Notice how each button ‚Äúremembers‚Äù its own
                    <code>count</code>
                    state and doesn't affect other buttons.
                  </li>
                  <li>
                    When the state modifying function
                    <code>setCounter</code>
                    is called, React
                    <strong>re-renders</strong>
                    the component
                  </li>
                </ul>
              </div>
              <div style="width: 40%">
                <pre>
                  <code data-trim class="language-jsx">
                    <script type="text/template">
                      // Button.jsx
                      import { useState } from 'react';

                      export default function Button() {
                        const [count, setCount] = useState(0);

                        function handleClick() {
                          setCount(count + 1);
                        }

                        return <button onClick={handleClick}>Clicked {count} times</button>;
                      }



                      // App.jsx
                      import './App.css';
                      import Button from './Button.jsx';

                      const App = () => {
                        return (
                          <div>
                            <Button />
                            <Button />
                          </div>
                        );
                      };
                    </script>
                  </code>
                </pre>
              </div>
            </div>
          </section>
          <section>
            <h1>Hooks</h1>
            <ul>
              <li>
                Functions starting with
                <code>use</code>
                are called
                <em>Hooks</em>
                .
              </li>
              <li>
                <code>useState</code>
                is a built-in Hook provided by React. You can find other built-in Hooks in the
                <a
                  class="inline text-link dark:text-link-dark border-b border-link border-opacity-0 hover:border-opacity-100 duration-100 ease-in transition leading-normal"
                  href="https://react.dev/reference/react"
                >
                  API reference.
                </a>
              </li>
              <li>You can also write your own Hooks by combining the existing ones.</li>
              <li>
                Hooks are more restrictive than other functions. You can only call Hooks
                <em>at the top</em>
                of your components (or other Hooks). If you want to use
                <code>useState</code>
                in a condition or a loop, extract a new component and put it there.
              </li>
            </ul>
          </section>
          <section>
            <h1>Sharing data between components</h1>
            <p>
              In the previous example, each
              <code>MyButton</code>
              had its own independent
              <code>count</code>
              , and when each button was clicked, only the
              <code>count</code>
              for the button clicked changed:
            </p>
            <div style="display: flex; justify-content: center">
              <div>
                <img
                  style="width: 50%"
                  src="https://react.dev/_next/image?url=%2Fimages%2Fdocs%2Fdiagrams%2Fsharing_data_child.png&w=828&q=75"
                  alt="Sharing data between components"
                />
                <p>Initially, each MyButton's count state is 0</p>
              </div>
              <div>
                <img
                  style="width: 50%"
                  src="https://react.dev/_next/image?url=%2Fimages%2Fdocs%2Fdiagrams%2Fsharing_data_child_clicked.png&w=828&q=75"
                  alt="Sharing data between components"
                />
                <p>The first MyButton updates its count to 1</p>
              </div>
            </div>
          </section>
          <section>
            <h1>Sharing data between components</h1>
            <ul>
              <li>
                However, often you'll need components to
                <em>share data and always update together</em>
                .
              </li>
              <li>
                To make both
                <code>MyButton</code>
                components display the same
                <code>count</code>
                and update together, you need to move the state from the individual buttons
                <strong>upwards</strong>
                to the closest component containing all of them.
              </li>
            </ul>
            <div style="display: flex; justify-content: center">
              <div>
                <img
                  style="width: 50%"
                  src="https://react.dev/_next/image?url=%2Fimages%2Fdocs%2Fdiagrams%2Fsharing_data_parent.png&w=828&q=75"
                  alt="Sharing data between components"
                />
                <p>Initially, MyApp's count state is 0 and is passed down to both children</p>
              </div>
              <div>
                <img
                  style="width: 50%"
                  src="https://react.dev/_next/image?url=%2Fimages%2Fdocs%2Fdiagrams%2Fsharing_data_parent_clicked.png&w=828&q=75"
                  alt="Sharing data between components"
                />
                <p>
                  On click, MyApp updates its count state to 1 and passes it down to both children
                </p>
              </div>
            </div>
          </section>
          <section>
            <img width="50%" src="CountersUpdateTogether.png" alt="CountersUpdateTogether" />
            <pre>
              <code data-trim class="language-jsx">
                <script type="text/template">
                  import { useState } from 'react';

                  export default function CountersUpdatingTogether() {
                    const [count, setCount] = useState(0);

                    function handleClick() {
                      setCount(count + 1);
                    }

                    return (
                      <div>
                        <h1>Counters that update together</h1>
                        <MyButton count={count} onClick={handleClick} />
                        <MyButton count={count} onClick={handleClick} />
                      </div>
                    );
                  }

                  function MyButton({ count, onClick }) {
                    return <button onClick={onClick}>Clicked {count} times</button>;
                  }

                </script>
              </code>
            </pre>
          </section>
          <section>
            <h1>Passing state to child components</h1>
            <ul>
              <li>
                It's recommended to write React components that are small and reusable across the
                application and even across projects.
              </li>
              <li>
                Let's refactor our application so that it's composed of three smaller components,
                one component for displaying the counter and two components for buttons.
              </li>
              <li>
                One best practice in React is to lift the state up in the component hierarchy.
              </li>
            </ul>
          </section>
          <section>
            <h1>Improved Buttons</h1>
            <img src="ImprovedButtons.png" alt="ImprovedButtons" />
            <pre>
              <code data-trim class="language-jsx">
                <script type="text/template">
                  import { useState } from 'react';

                  const Button = (props) => {
                    return <button onClick={props.onClick}>{props.text}</button>;
                  };

                  const Display = (props) => {
                    return <div>{props.counter}</div>;
                  };

                  const ImprovedButtons = () => {
                    const [counter, setCounter] = useState(0);

                    const increaseByOne = () => setCounter(counter + 1);
                    const decreaseByOne = () => setCounter(counter - 1);
                    const setToZero = () => setCounter(0);

                    return (
                      <div>
                        <Display counter={counter} />
                        <Button onClick={increaseByOne} text="plus" />
                        <Button onClick={setToZero} text="zero" />
                        <Button onClick={decreaseByOne} text="minus" />
                      </div>
                    );
                  };

                  export default ImprovedButtons;

                </script>
              </code>
            </pre>
          </section>
          <section>
            <h1>Changes in state cause re-rendering</h1>
            <div
              style="
                display: flex;
                justify-content: stretch;
                align-items: center;
                gap: 1em;
                text-align: left;
              "
            >
              <div style="width: 70%">
                <ul>
                  <li>
                    This code uses a
                    <a href="https://react.dev/reference/react/useState">useState</a>
                    hook to create the application state, setting an initial value of the variable
                    <em>counter</em>
                    .
                  </li>
                  <li>
                    This component contains the
                    <em>Display</em>
                    component - which displays the counter's value, 0 - and three
                    <em>Button</em>
                    components.
                  </li>
                  <li>
                    The buttons all have event handlers, which are used to change the state of the
                    counter.
                  </li>
                  <li>
                    When one of the buttons is clicked, the event handler is executed. The event
                    handler changes the state of the
                    <em>App</em>
                    component with the
                    <em>setCounter</em>
                    function.
                  </li>
                  <li>
                    <strong>
                      Calling a function that changes the state causes the component to re-render.
                    </strong>
                  </li>
                </ul>
              </div>
              <div style="width: 30%">
                <pre>
                  <code data-trim class="language-jsx">
                    <script type="text/template">
                      // ImprovedButtons.jsx

                      import { useState } from 'react';

                      const Button = (props) => {
                        return <button onClick={props.onClick}>{props.text}</button>;
                      };

                      const Display = (props) => {
                        return <div>{props.counter}</div>;
                      };

                      const ImprovedButtons = () => {
                        const [counter, setCounter] = useState(0);

                        const increaseByOne = () => setCounter(counter + 1);
                        const decreaseByOne = () => setCounter(counter - 1);
                        const setToZero = () => setCounter(0);

                        return (
                          <div>
                            <Display counter={counter} />
                            <Button onClick={increaseByOne} text="plus" />
                            <Button onClick={setToZero} text="zero" />
                            <Button onClick={decreaseByOne} text="minus" />
                          </div>
                        );
                      };

                    </script>
                  </code>
                </pre>
              </div>
            </div>
          </section>
          <section>
            <pre>
              <code data-trim class="language-jsx">
                <script type="text/template">
                  // ImprovedButtons.jsx

                  import { useState } from 'react';

                  const Button = (props) => {
                    return <button onClick={props.onClick}>{props.text}</button>;
                  };

                  const Display = (props) => {
                    return <div>{props.counter}</div>;
                  };

                  const ImprovedButtons = () => {
                    const [counter, setCounter] = useState(0);
                    console.log('rendering with counter value', counter);

                    const increaseByOne = () => {
                      console.log('increasing, value before', counter);
                      setCounter(counter + 1);
                    };

                    const decreaseByOne = () => {
                      console.log('decreasing, value before', counter);
                      setCounter(counter - 1);
                    };

                    const setToZero = () => {
                      console.log('resetting to zero, value before', counter);
                      setCounter(0);
                    };

                    return (
                      <div>
                        <Display counter={counter} />
                        <Button onClick={increaseByOne} text="plus" />
                        <Button onClick={setToZero} text="zero" />
                        <Button onClick={decreaseByOne} text="minus" />
                      </div>
                    );
                  };

                  export default ImprovedButtons;

                </script>
              </code>
            </pre>
          </section>
        </section>
        <section>
          <section>
            <h1>Complex State</h1>
            <ul>
              <li>
                In our previous example, the application state was simple as it was comprised of a
                single integer.
              </li>
              <li>What if our application requires a more complex state?</li>
              <li>
                In most cases, the easiest and best way to accomplish this is by using the
                <code>useState</code>
                function multiple times to create separate
                <em>pieces</em>
                of state.
              </li>
            </ul>
          </section>
          <section>
            <div
              style="display: flex; justify-content: space-around; align-items: center; gap: 1em"
            >
              <div>
                <ul>
                  <li>
                    In the following code we create two pieces of state for the application named
                    <em>left</em>
                    and
                    <em>right</em>
                    that both get the initial value of 0:
                  </li>
                  <li>
                    The component gets access to the functions
                    <code>setLeft</code>
                    and
                    <code>setRight</code>
                    that it can use to update the two pieces of state.
                  </li>
                </ul>
              </div>
              <div>
                <pre>
                  <code data-trim class="language-jsx">
                    <script type="text/template">
                      // ComplexState.jsx

                      import { useState } from 'react';

                      const ComplexState = () => {
                        const [left, setLeft] = useState(0);
                        const [right, setRight] = useState(0);

                        return (
                          <div>
                            {left}
                            <button onClick={() => setLeft(left + 1)}>left</button>
                            <button onClick={() => setRight(right + 1)}>right</button>
                            {right}
                          </div>
                        );
                      };

                      export default ComplexState;


                    </script>
                  </code>
                </pre>
              </div>
            </div>
          </section>
          <section>
            <div
              style="display: flex; justify-content: space-around; align-items: center; gap: 1em"
            >
              <div>
                <ul>
                  <li>The component's state or a piece of its state can be of any type.</li>
                  <li>
                    We could implement the same functionality by saving the click count of both the
                    <i>left</i>
                    and
                    <i>right</i>
                    buttons into a single object
                  </li>
                  <li>
                    Now the component only has a single piece of state and the event handlers have
                    to take care of changing the
                    <strong>entire application state</strong>
                    .
                  </li>
                  <li>The event handler looks a bit messy.</li>
                </ul>
              </div>
              <div>
                <pre>
                  <code data-trim class="language-jsx">
                    <script type="text/template">
                      const ComplexState = () => {
                        const [clicks, setClicks] = useState({
                          left: 0, right: 0
                        })

                        const handleLeftClick = () => {
                          const newClicks = {
                            left: clicks.left + 1,
                            right: clicks.right
                          }
                          setClicks(newClicks)
                        }

                        const handleRightClick = () => {
                          const newClicks = {
                            left: clicks.left,
                            right: clicks.right + 1
                          }
                          setClicks(newClicks)
                        }

                        return (
                          <div>
                            {clicks.left}
                            <button onClick={handleLeftClick}>left</button>
                            <button onClick={handleRightClick}>right</button>
                            {clicks.right}
                          </div>
                        )
                      };
                    </script>
                  </code>
                </pre>
              </div>
            </div>
          </section>
          <section>
            <div
              style="display: flex; justify-content: space-around; align-items: center; gap: 1em"
            >
              <div>
                <ul>
                  <li>
                    We can define the new state object a bit more neatly by using the
                    <a
                      href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_syntax"
                      target="_blank"
                    >
                      object spread
                    </a>
                    syntax that was added to the language specification in the summer of 2018
                  </li>
                  <li>The syntax may seem a bit strange at first.</li>
                  <li>
                    In practice
                    <code>{ ...clicks }</code>
                    creates a new object that has copies of all of the properties of the
                    <code>clicks</code>
                    object.
                  </li>
                  <li>
                    When we specify a particular property - e.g.
                    <i>right</i>
                    in
                    <code>{ ...clicks, right: 1 }</code>
                    , the value of the
                    <code>right</code>
                    property in the new object will be 1.
                  </li>
                </ul>
              </div>
              <div>
                <pre>
                  <code data-trim class="language-jsx">
                    <script type="text/template">
                      const handleLeftClick = () => {
                        const newClicks = {
                          ...clicks,
                          left: clicks.left + 1
                        }
                        setClicks(newClicks)
                      }

                      const handleRightClick = () => {
                        const newClicks = {
                          ...clicks,
                          right: clicks.right + 1
                        }
                        setClicks(newClicks)
                      }
                    </script>
                  </code>
                </pre>
              </div>
            </div>
          </section>
          <section>
            <p>
              Assigning the object to a variable in the event handlers is not necessary and we can
              simplify the functions to the following form:
            </p>
            <pre>
              <code data-trim class="language-jsx">
                <script type="text/template">
                  const handleLeftClick = () => setClicks({ ...clicks, left: clicks.left + 1 })

                  const handleRightClick = () => setClicks({ ...clicks, right: clicks.right + 1 })
                </script>
              </code>
            </pre>
          </section>
          <section>
            <h1 style="color: red">Mutating state directly</h1>
            <pre>
              <code data-trim class="language-jsx">
                <script type="text/template">
                  const handleLeftClick = () => {
                    clicks.left++
                    setClicks(clicks)
                  }
                </script>
              </code>
            </pre>
            <ul>
              <li>Some of you might be wondering why we didn't just update the state directly</li>
              <li>
                The application appears to work. However,
                <i>it is forbidden in React to mutate state directly</i>
                , since
                <a href="https://stackoverflow.com/a/40309023" target="_blank">
                  it can result in unexpected side effects
                </a>
                .
              </li>
              <li>
                Changing state has to always be done by
                <strong>setting the state to a new object</strong>
                .
              </li>
              <li>
                If properties from the previous state object are not changed, they need to simply be
                copied, which is done by copying those properties into a new object and setting that
                as the new state.
              </li>
              <li>
                Storing all of the state in a single state object is a bad choice for this
                particular application; there's no apparent benefit and the resulting application is
                a lot more complex.
              </li>
              <li>
                In this case, storing the click counters into
                <strong>separate pieces of state</strong>
                is a far more suitable choice.
              </li>
              <li>
                There are situations where it can be beneficial to store a piece of application
                state in a more complex data structure.
                <a href="https://react.dev/learn/choosing-the-state-structure" target="_blank">
                  The official React documentation
                </a>
                contains some helpful guidance on the topic.
              </li>
            </ul>
          </section>
          <section>
            <h1>Handling Arrays in the State</h1>
            <p>
              Let's add a piece of state to our application containing an array
              <em>allClicks</em>
              that remembers every click that has occurred in the application.
            </p>
            <div
              style="display: flex; justify-content: space-around; align-items: center; gap: 1em"
            >
              <div>
                <ul>
                  <li>
                    Every click is stored in a separate piece of state called
                    <em>allClicks</em>
                    that is initialized as an empty array
                  </li>
                  <li>
                    When the
                    <em>left</em>
                    button is clicked, we add the letter
                    <em>L</em>
                    to the
                    <em>allClicks</em>
                    array:
                  </li>
                  <li>
                    The piece of state stored in
                    <em>allClicks</em>
                    is now set to be an array that contains all of the items of the previous state
                    array plus the letter
                    <em>L</em>
                    .
                  </li>
                  <li>
                    Adding the new item to the array is accomplished with the
                    <a
                      href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/concat"
                    >
                      concat
                    </a>
                    method, which does not mutate the existing array but rather returns a
                    <i>new copy of the array</i>
                    with the item added to it.
                  </li>
                  <li>
                    The component keeps track of the total number of button presses in the state
                    <em>total</em>
                    , whose value is always updated when the buttons are pressed.
                  </li>
                </ul>
              </div>
              <div>
                <pre>
                  <code data-trim class="language-jsx">
                    <script type="text/template">
                      const AllClicks = () => {
                        const [left, setLeft] = useState(0);
                        const [right, setRight] = useState(0);
                        const [allClicks, setAll] = useState([]);
                        const [total, setTotal] = useState(0);

                        const handleLeftClick = () => {
                          setAll(allClicks.concat('L'));
                          setLeft(left + 1);
                          setTotal(left + right);
                        };

                        const handleRightClick = () => {
                          setAll(allClicks.concat('R'));
                          setRight(right + 1);
                          setTotal(left + right);
                        };

                        return (
                          <div>
                            {left}
                            <button onClick={handleLeftClick}>left</button>
                            <button onClick={handleRightClick}>right</button>
                            {right}
                            <p>{allClicks.join(' ')}</p>
                            <p>total {total}</p>
                          </div>
                        );
                      };
                    </script>
                  </code>
                </pre>
              </div>
            </div>
          </section>
          <section>
            <h1>However ....</h1>
            <p>The solution does not quite work:</p>
            <img src="array-state.png" alt="Array state" width="20%" />
            <p>
              The total number of button presses is consistently one less than the actual amount of
              presses, for some reason.
            </p>
          </section>
          <section>
            <p>Let us add couple of console.log statements to the event handler:</p>
            <pre>
              <code data-trim class="language-jsx">
                <script type="text/template">
                  // ...
                  const handleLeftClick = () => {
                    setAll(allClicks.concat('L'))
                    console.log('left before', left)
                    setLeft(left + 1)
                    console.log('left after', left)
                    setTotal(left + right)
                  }

                  // ...
                </script>
              </code>
            </pre>
            <p>The console reveals the problem:</p>
            <ul>
              <li>left before 0</li>
              <li>left after 0</li>
              <li>left before 1</li>
              <li>left after 1</li>
            </ul>
          </section>
          <section>
            <p>
              Even though a new value was set for
              <em>left</em>
              by calling
              <code>setLeft(left + 1)</code>
              , the old value persists despite the update. As a result, the attempt to count button
              presses produces a result that is too small:
            </p>
            <p>
              The reason for this is that a state update in React happens
              <a href="https://react.dev/learn/queueing-a-series-of-state-updates" target="_blank">
                asynchronously
              </a>
              , i.e. not immediately but "at some point" before the component is rendered again.
            </p>
            <p>We can fix this as follows:</p>
            <pre>
              <code data-trim class="language-jsx">
                <script type="text/template">
                  // ...
                  const handleLeftClick = () => {
                    setAll(allClicks.concat('L'))

                    const updatedLeft = left + 1

                    setLeft(updatedLeft)

                    setTotal(updatedLeft + right)
                  }

                  // ...
                </script>
              </code>
            </pre>
          </section>
        </section>
        <section>
          <section>
            <h1>Tutorial: Tic-Tac-Toe</h1>
            <p style="text-align: center">
              <a href="https://codesandbox.io/p/sandbox/ywjv3w?file=%2Fsrc%2FApp.js">
                https://codesandbox.io/p/sandbox/ywjv3w?file=%2Fsrc%2FApp.js
              </a>
            </p>
          </section>
          <section>
            <h1>Setting up</h1>
            <pre>
              <code data-trim class="">
                <script type="text/template">
                  npm create vite@latest tic-tac-toe -- --template react

                  cd tic-tac-toe

                  npm install

                  npm run dev
                </script>
              </code>
            </pre>
            <p style="text-align: center">Clean up all the scaffolding code</p>
            <pre>
              <code data-trim class="language-jsx">
                <script type="text/template">
                  // src/App.jsx

                  import './App.css';

                  function App() {
                    console.log('Hello');

                    return <h1>Tic Tac Toe</h1>;
                  }

                  export default App;

                </script>
              </code>
            </pre>
          </section>
          <section>
            <h1>Adding the first component</h1>
            <div
              style="
                display: flex;
                justify-content: space-around;
                align-items: flex-start;
                gap: 1em;
              "
            >
              <div>
                <pre>
                  <code data-trim class="language-jsx">
                    <script type="text/template">
                      // App.jsx

                      import './App.css';

                      function Square() {
                        return <button className="square">X</button>;
                      }

                      function App() {
                        return (
                          <>
                            <h1>Tic Tac Toe</h1>
                            <Square />
                          </>
                        );
                      }

                      export default App;
                    </script>
                  </code>
                </pre>
              </div>
              <div>
                <pre>
                  <code data-trim class="language-css">
                    // App.css

                    * {
                      box-sizing: border-box;
                    }

                    body {
                      font-family: sans-serif;
                      margin: 20px;
                      padding: 0;
                    }

                    h1 {
                      margin-top: 0;
                      font-size: 22px;
                    }

                    .square {
                      background: #fff;
                      border: 1px solid #999;
                      float: left;
                      font-size: 24px;
                      font-weight: bold;
                      line-height: 34px;
                      height: 34px;
                      margin-right: -1px;
                      margin-top: -1px;
                      padding: 0;
                      text-align: center;
                      width: 34px;
                    }

                  </code>
                </pre>
              </div>
            </div>
          </section>
          <section>
            <h1>Creating the board</h1>
            <div
              style="
                display: flex;
                justify-content: space-around;
                align-items: flex-start;
                gap: 1em;
              "
            >
              <div>
                <pre>
                  <code data-trim class="language-jsx">
                    <script type="text/template">
                      // App.jsx

                      import './App.css';

                      function Square({ value }) {
                        return <button className="square">{value}</button>;
                      }

                      function App() {
                        return (
                          <>
                            <h1>Tic Tac Toe</h1>

                            <div className="board-row">
                              <Square value="1" />
                              <Square value="2" />
                              <Square value="3" />
                            </div>

                            <div className="board-row">
                              <Square value="4" />
                              <Square value="5" />
                              <Square value="6" />
                            </div>

                            <div className="board-row">
                              <Square value="7" />
                              <Square value="8" />
                              <Square value="9" />
                            </div>
                          </>
                        );
                      }

                      export default App;

                    </script>
                  </code>
                </pre>
              </div>
              <div>
                <pre>
                  <code data-trim class="language-css">
                    // App.css

                    div.board-row {
                      display: flex;
                    }

                  </code>
                </pre>
              </div>
            </div>
          </section>
          <section>
            <h1>Adding interactivity</h1>
            <pre>
              <code data-trim class="language-jsx">
                <script type="text/template">
                  import './App.css';

                  import { useState } from 'react';

                  function Square() {
                    const [value, setValue] = useState(null);

                    function handleClick() {
                      console.log('clicked!');

                      setValue('X');
                    }

                    return (
                      <button className="square" onClick={handleClick}>
                        {value}
                      </button>
                    );
                  }

                  function App() {
                    return (
                      <>
                        <h1>Tic Tac Toe</h1>
                        <div className="board-row">
                          <Square />
                          <Square />
                          <Square />
                        </div>
                        <div className="board-row">
                          <Square />
                          <Square />
                          <Square />
                        </div>
                        <div className="board-row">
                          <Square />
                          <Square />
                          <Square />
                        </div>
                      </>
                    );
                  }

                  export default App;
                </script>
              </code>
            </pre>
          </section>
          <section>
            <h1>React Developer Tools</h1>
            <img
              src="https://react.dev/images/tutorial/codesandbox-devtools.png"
              alt="React Developer Tools"
            />
          </section>
          <section>
            <h1>Lifting state up</h1>
            <ul>
              <li>
                To have a complete game, we now need to alternate placing ‚ÄúX‚Äùs and ‚ÄúO‚Äùs on the
                board, and we need a way to determine a winner.
              </li>
              <li>
                Currently, each
                <code>Square</code>
                component maintains a part of the game's state. To check for a winner in a
                tic-tac-toe game, the
                <code>App</code>
                would need to somehow know the state of each of the 9
                <code>Square</code>
                components.
              </li>
              <li>
                The best approach is to store the game's state in the parent
                <code>App</code>
                component instead of in each
                <code>Square</code>
                . The
                <code>App</code>
                component can tell each
                <code>Square</code>
                what to display by passing a prop, like we did when you passed a number to each
                Square.
              </li>
              <li>
                To collect data from multiple children, or to have two child components communicate
                with each other, declare the shared state in their parent component instead. The
                parent component can pass that state back down to the children via props. This keeps
                the child components in sync with each other and with their parent.
              </li>
              <li>
                Lifting state into a parent component is common when React components are
                refactored.
              </li>
            </ul>
          </section>
          <section>
            <pre>
              <code data-trim class="language-jsx">
                <script type="text/template">
                  // ...
                  export default function App() {
                    const [squares, setSquares] = useState(Array(9).fill(null));
                    return (
                      // ...
                    );
                  }
                </script>
              </code>
            </pre>
            <ul>
              <li>
                Edit the
                <code>App</code>
                component so that it declares a state variable named
                <code>squares</code>
                that defaults to an array of 9 nulls corresponding to the 9 squares
              </li>
              <li>
                <code>Array(9).fill(null)</code>
                creates an array with nine elements and sets each of them to
                <code>null</code>
                .
              </li>
              <li>
                The
                <code>useState()</code>
                call around it declares a
                <code>squares</code>
                state variable that's initially set to that array. Each entry in the array
                corresponds to the value of a square.
              </li>
              <li>
                When you fill the board in later, the
                <code>squares</code>
                array will look like this:
              </li>
            </ul>
            <pre>
              <code data-trim class="language-jsx">
                <script type="text/template">
                  ['O', null, 'X', 'X', 'X', 'O', 'O', null, null]
                </script>
              </code>
            </pre>
          </section>
          <section>
            <h1>Passing data from parent to child</h1>
            <p>
              Now the
              <code>App</code>
              component needs to pass the
              <code>value</code>
              prop down to each
              <code>Square</code>
              that it renders:
            </p>
            <pre>
              <code data-trim class="language-jsx">
                <script type="text/template">
                  import { useState } from 'react';

                  function Square({ value }) {
                    return <button className="square">{value}</button>;
                  }

                  export default function App() {
                    const [squares, setSquares] = useState(Array(9).fill(null));
                    return (
                      <>
                        <div className="board-row">
                          <Square value={squares[0]} />
                          <Square value={squares[1]} />
                          <Square value={squares[2]} />
                        </div>
                        <div className="board-row">
                          <Square value={squares[3]} />
                          <Square value={squares[4]} />
                          <Square value={squares[5]} />
                        </div>
                        <div className="board-row">
                          <Square value={squares[6]} />
                          <Square value={squares[7]} />
                          <Square value={squares[8]} />
                        </div>
                      </>
                    );
                  }

                </script>
              </code>
            </pre>
            <p>
              Each Square will now receive a
              <code>value</code>
              prop that will either be
              <code>'X'</code>
              ,
              <code>'O'</code>
              , or
              <code>null</code>
              for empty squares.
            </p>
          </section>
          <section>
            <ul>
              <li>
                Next, we need to change what happens when a
                <code>Square</code>
                is clicked.
              </li>
              <li>
                The
                <code>App</code>
                component now maintains which squares are filled. We'll need to create a way for the
                <code>Square</code>
                to update the
                <code>App</code>
                's state.
              </li>
              <li>
                Since state is private to a component that defines it, we cannot update the
                <code>App</code>
                's state directly from
                <code>Square</code>
                .
              </li>
              <li>
                Instead, we'll pass down a function from the
                <code>App</code>
                component to the
                <code>Square</code>
                component, and we'll have
                <code>Square</code>
                call that function when a square is clicked.
              </li>
            </ul>
          </section>
          <section>
            <p>
              The
              <code>handleClick</code>
              function creates a copy of the
              <code>squares</code>
              array (
              <code>nextSquares</code>
              ) with the JavaScript
              <code>slice()</code>
              Array method. Then,
              <code>handleClick</code>
              updates the
              <code>nextSquares</code>
              array to add
              <code>X</code>
              to the first (
              <code>[0]</code>
              index) square.
            </p>
            <div
              style="display: flex; justify-content: space-around; align-items: center; gap: 1em"
            >
              <div>
                <pre>
                  <code data-trim class="language-jsx">
                    <script type="text/template">
                      function Square({ value, onSquareClick }) {
                        return (
                          <button className="square" onClick={onSquareClick}>
                            {value}
                          </button>
                        );
                      }
                    </script>
                  </code>
                </pre>
              </div>
              <div>
                <pre>
                  <code data-trim class="language-jsx">
                    <script type="text/template">
                      export default function App() {
                        const [squares, setSquares] = useState(Array(9).fill(null));

                        function handleClick() {
                          const nextSquares = squares.slice();
                          nextSquares[0] = "X";
                          setSquares(nextSquares);
                        }

                        return (
                          // ...
                        )
                      }
                    </script>
                  </code>
                </pre>
              </div>
            </div>
            <p>
              Calling the
              <code>setSquares</code>
              function lets React know the state of the component has changed. This will trigger a
              re-render of the components that use the
              <code>squares</code>
              state (
              <code>App</code>
              ) as well as its child components (the
              <code>Square</code>
              components that make up the board).
            </p>
          </section>
          <section>
            <ul>
              <li>Now we can add X's to the board‚Ä¶ but only to the upper left square.</li>
              <li>
                The
                <code>handleClick</code>
                function is hardcoded to update the index for the upper left square (
                <code>0</code>
                ).
              </li>
              <li>
                Let's update
                <code>handleClick</code>
                to be able to update any square. Add an argument
                <code>i</code>
                to the
                <code>handleClick</code>
                function that takes the index of the square to update:
              </li>
            </ul>
            <pre>
              <code data-trim class="language-jsx">
                <script type="text/template">
                  export default function App() {
                    const [squares, setSquares] = useState(Array(9).fill(null));

                    function handleClick(i) {
                      const nextSquares = squares.slice();
                      nextSquares[i] = "X";
                      setSquares(nextSquares);
                    }

                    return (
                      // ...
                    )
                  }
                </script>
              </code>
            </pre>
          </section>
          <section>
            <p>
              Next, we will need to pass that
              <code>i</code>
              to
              <code>handleClick</code>
              . We could try to set the
              <code>onSquareClick</code>
              prop of square to be
              <code>handleClick(0)</code>
              directly in the JSX like this, but it won't work:
            </p>
            <pre>
              <code data-trim class="language-jsx">
                <script type="text/template">
                  <Square value={squares[0]} onSquareClick={handleClick(0)} />

                  // Browser console
                  > Too many re-renders. React limits the number of renders to prevent an infinite loop.
                </script>
              </code>
            </pre>
            <p>
              The
              <code>handleClick(0)</code>
              call will be a part of rendering the board component. Because
              <code>handleClick(0)</code>
              alters the state of the board component by calling
              <code>setSquares</code>
              , your entire board component will be re-rendered again. But this runs
              <code>handleClick(0)</code>
              again, leading to an infinite loop.
            </p>
          </section>
          <section>
            <h1>Why didn't this problem happen earlier?</h1>
            <p>
              When we were passing
              <code>onSquareClick={handleClick}</code>
              , we were passing the
              <code>handleClick</code>
              function down as a prop. We were not calling it! But now we are
              <em>calling</em>
              that function right away‚Äînotice the parentheses in
              <code>handleClick(0)</code>
              ‚Äîand that's why it runs too early. You don't
              <em>want</em>
              to call
              <code>handleClick</code>
              until the user clicks!
            </p>
          </section>
          <section>
            <h1>How do we fix it?</h1>
            <pre>
              <code data-trim class="language-jsx">
                <script type="text/template">
                  export default function App() {
                    // ...
                    return (
                      <>
                        <div className="board-row">
                          <Square value={squares[0]} onSquareClick={() => handleClick(0)} />
                          // ...
                    );
                  }
                </script>
              </code>
            </pre>
            <p>
              Notice the new
              <code>() =&gt;</code>
              syntax. Here,
              <code>() =&gt; handleClick(0)</code>
              is an
              <em>arrow function,</em>
              which is a shorter way to define functions. When the square is clicked, the code after
              the
              <code>=&gt;</code>
              ‚Äúarrow‚Äù will run, calling
              <code>handleClick(0)</code>
              .
            </p>
          </section>
          <section>
            <h1>Now state handling is in the App component</h1>
            <pre>
              <code data-trim class="language-jsx">
                <script type="text/template">
                  import './App.css';

                  import { useState } from 'react';

                  function Square({ value, onSquareClick }) {
                    return (
                      <button className="square" onClick={onSquareClick}>
                        {value}
                      </button>
                    );
                  }

                  function App() {
                    const [squares, setSquares] = useState(Array(9).fill(null));

                    function handleClick(i) {
                      const nextSquares = squares.slice();
                      nextSquares[i] = 'X';
                      setSquares(nextSquares);
                    }

                    return (
                      <>
                        <div className="board-row">
                          <Square value={squares[0]} onSquareClick={() => handleClick(0)} />
                          <Square value={squares[1]} onSquareClick={() => handleClick(1)} />
                          <Square value={squares[2]} onSquareClick={() => handleClick(2)} />
                        </div>
                        <div className="board-row">
                          <Square value={squares[3]} onSquareClick={() => handleClick(3)} />
                          <Square value={squares[4]} onSquareClick={() => handleClick(4)} />
                          <Square value={squares[5]} onSquareClick={() => handleClick(5)} />
                        </div>
                        <div className="board-row">
                          <Square value={squares[6]} onSquareClick={() => handleClick(6)} />
                          <Square value={squares[7]} onSquareClick={() => handleClick(7)} />
                          <Square value={squares[8]} onSquareClick={() => handleClick(8)} />
                        </div>
                      </>
                    );
                  }

                  export default App;

                </script>
              </code>
            </pre>
          </section>
          <section>
            <h1>Recap</h1>
            <ul>
              <li>
                Now that your state handling is in the
                <code>Board</code>
                component, the parent
                <code>Board</code>
                component passes props to the child
                <code>Square</code>
                components so that they can be displayed correctly.
              </li>
              <li>
                When clicking on a
                <code>Square</code>
                , the child
                <code>Square</code>
                component now asks the parent
                <code>Board</code>
                component to update the state of the board.
              </li>
              <li>
                When the
                <code>Board</code>
                's state changes, both the
                <code>Board</code>
                component and every child
                <code>Square</code>
                re-renders automatically.
              </li>
              <li>
                Keeping the state of all squares in the
                <code>Board</code>
                component will allow it to determine the winner in the future.
              </li>
            </ul>
          </section>
          <section>
            <h1>What happens when a user clicks the top left square?</h1>
            <ul>
              <li>
                Clicking on the upper left square runs the function that the
                <code>button</code>
                received as its
                <code>onClick</code>
                prop from the
                <code>Square</code>
                .
              </li>
              <li>
                The
                <code>Square</code>
                component received that function as its
                <code>onSquareClick</code>
                prop from the
                <code>Board</code>
                .
              </li>
              <li>
                The
                <code>Board</code>
                component defined that function directly in the JSX. It calls
                <code>handleClick</code>
                with an argument of
                <code>0</code>
                .
              </li>
              <li>
                <code>handleClick</code>
                uses the argument (
                <code>0</code>
                ) to update the first element of the
                <code>squares</code>
                array from
                <code>null</code>
                to
                <code>X</code>
                .
              </li>
              <li>
                The
                <code>squares</code>
                state of the
                <code>Board</code>
                component was updated, so the
                <code>Board</code>
                and all of its children re-render. This causes the
                <code>value</code>
                prop of the
                <code>Square</code>
                component with index
                <code>0</code>
                to change from
                <code>null</code>
                to
                <code>X</code>
                .
              </li>
              <li>
                In the end the user sees that the upper left square has changed from empty to having
                an
                <code>X</code>
                after clicking it.
              </li>
            </ul>
          </section>
          <section>
            <h1>Why immutability is important</h1>
            <ul>
              <li>
                Note how in
                <code>handleClick</code>
                , we call
                <code>.slice()</code>
                to create a copy of the
                <code>squares</code>
                array instead of modifying the existing array. To explain why, we need to discuss
                immutability and why immutability is important to learn.
              </li>
              <li>
                There are generally two approaches to changing data:
                <ul>
                  <li>
                    The first approach is to
                    <em>mutate</em>
                    the data by directly changing the data's values.
                  </li>
                  <li>
                    The second approach is to
                    <em>replace</em>
                    the data with a new copy which has the desired changes.
                  </li>
                </ul>
              </li>
            </ul>
          </section>
          <section>
            <h1>Mutating vs. Replacing</h1>
            <div
              style="display: flex; justify-content: space-around; align-items: center; gap: 1em"
            >
              <div>
                <p>
                  Here is what it would look like if we mutated the
                  <code>squares</code>
                  array:
                </p>
                <pre>
                  <code data-trim class="language-jsx">
                    <script type="text/template">
                      const squares = [null, null, null, null, null, null, null, null, null];
                      squares[0] = 'X';
                      // Now `squares` is ["X", null, null, null, null, null, null, null, null];
                    </script>
                  </code>
                </pre>
              </div>
              <div>
                <p>
                  And here is what it would look like if you changed data without mutating the
                  <code>squares</code>
                  array:
                </p>
                <pre>
                  <code data-trim class="language-jsx">
                    <script type="text/template">
                      const squares = [null, null, null, null, null, null, null, null, null];
                      const nextSquares = ['X', null, null, null, null, null, null, null, null];
                      // Now `squares` is unchanged, but `nextSquares` first element is 'X' rather than `null`
                    </script>
                  </code>
                </pre>
              </div>
            </div>
          </section>
          <section>
            <h1>Immutability is important</h1>
            <ul>
              <li>
                The result is the same but by not mutating (changing the underlying data) directly,
                you gain several benefits.
              </li>
              <li>
                Immutability makes complex features much easier to implement. Later in this
                tutorial, you will implement a
                <strong>time travel</strong>
                feature that lets you review the game's history and
                <strong>jump back</strong>
                to past moves. This functionality isn't specific to games‚Äîan ability to
                <strong>undo</strong>
                and
                <strong>redo</strong>
                certain actions is a common requirement for apps. Avoiding direct data mutation
                <em>lets you keep previous versions of the data intact</em>
                , and reuse them later.
              </li>
              <li>
                There is also another benefit of immutability. By default, all child components
                re-render automatically when the state of a parent component changes. This includes
                even the child components that weren't affected by the change. Although re-rendering
                is not by itself noticeable to the user (you shouldn't actively try to avoid it!),
                <strong>you might want to skip re-rendering</strong>
                a part of the tree that clearly wasn't affected by it for performance reasons.
                Immutability makes it very cheap for components to compare whether their data has
                changed or not. You can learn more about how React chooses when to re-render a
                component in
                <a href="https://react.dev/reference/react/memo">
                  the
                  <code>memo</code>
                  API reference
                </a>
                .
              </li>
            </ul>
          </section>
          <section>
            <h1>Taking turns</h1>
            <div
              style="display: flex; justify-content: space-around; align-items: center; gap: 2em"
            >
              <div style="width: 70%">
                <ul>
                  <li>
                    It's now time to fix a major defect in this tic-tac-toe game: the ‚ÄúO‚Äùs cannot be
                    marked on the board.
                  </li>
                  <li>
                    We'll set the first move to be ‚ÄúX‚Äù by default. Let's keep track of this by
                    adding another piece of state to the
                    <code>App</code>
                    component
                  </li>
                  <li>
                    Each time a player moves,
                    <code>xIsNext</code>
                    (a boolean) will be flipped to determine which player goes next and the game's
                    state will be saved. We'll update the
                    <code>Board</code>
                    's
                    <code>handleClick</code>
                    function to flip the value of
                    <code>xIsNext</code>
                  </li>
                </ul>
              </div>
              <div style="width: 30%">
                <pre>
                  <code data-trim class="language-jsx">
                    <script type="text/template">
                      export default function App() {
                        const [xIsNext, setXIsNext] = useState(true);
                        const [squares, setSquares] = useState(Array(9).fill(null));

                        function handleClick(i) {
                          const nextSquares = squares.slice();
                          if (xIsNext) {
                            nextSquares[i] = "X";
                          } else {
                            nextSquares[i] = "O";
                          }
                          setSquares(nextSquares);
                          setXIsNext(!xIsNext);
                        }

                        return (
                          //...
                        );
                      }
                    </script>
                  </code>
                </pre>
              </div>
            </div>
          </section>
          <section>
            <h1>Fixing the game</h1>
            <div
              style="display: flex; justify-content: space-around; align-items: center; gap: 2em"
            >
              <div>
                <ul>
                  <li>There's a problem: try clicking on the same square multiple times</li>
                  <li>
                    The
                    <code>X</code>
                    is overwritten by an
                    <code>O</code>
                    !
                  </li>
                  <li>
                    When we mark a square with an
                    <code>X</code>
                    or an
                    <code>O</code>
                    we aren't first checking to see if the square already has an
                    <code>X</code>
                    or
                    <code>O</code>
                    value.
                  </li>
                  <li>
                    We can fix this by
                    <em>returning early</em>
                    . We'll check to see if the square already has an
                    <code>X</code>
                    or an
                    <code>O</code>
                    . If the square is already filled, you will
                    <code>return</code>
                    in the
                    <code>handleClick</code>
                    function early‚Äîbefore it tries to update the board state.
                  </li>
                </ul>
              </div>
              <div>
                <pre>
                  <code data-trim class="language-jsx">
                    <script type="text/template">
                      function handleClick(i) {
                        if (squares[i]) {
                          return;
                        }
                        const nextSquares = squares.slice();
                        //...
                      }
                    </script>
                  </code>
                </pre>
              </div>
            </div>
          </section>
          <section>
            <h1>What it looks like so far</h1>
            <pre>
              <code data-trim class="language-jsx">
                <script type="text/template">
                  import './App.css';

                  import { useState } from 'react';

                  function Square({ value, onSquareClick }) {
                    return (
                      <button className="square" onClick={onSquareClick}>
                        {value}
                      </button>
                    );
                  }

                  function App() {
                    const [xIsNext, setXIsNext] = useState(true);
                    const [squares, setSquares] = useState(Array(9).fill(null));

                    function handleClick(i) {
                      if (squares[i]) {
                        return;
                      }
                      const nextSquares = squares.slice();
                      if (xIsNext) {
                        nextSquares[i] = 'X';
                      } else {
                        nextSquares[i] = 'O';
                      }
                      setSquares(nextSquares);
                      setXIsNext(!xIsNext);
                    }

                    return (
                      <>
                        <div className="board-row">
                          <Square value={squares[0]} onSquareClick={() => handleClick(0)} />
                          <Square value={squares[1]} onSquareClick={() => handleClick(1)} />
                          <Square value={squares[2]} onSquareClick={() => handleClick(2)} />
                        </div>
                        <div className="board-row">
                          <Square value={squares[3]} onSquareClick={() => handleClick(3)} />
                          <Square value={squares[4]} onSquareClick={() => handleClick(4)} />
                          <Square value={squares[5]} onSquareClick={() => handleClick(5)} />
                        </div>
                        <div className="board-row">
                          <Square value={squares[6]} onSquareClick={() => handleClick(6)} />
                          <Square value={squares[7]} onSquareClick={() => handleClick(7)} />
                          <Square value={squares[8]} onSquareClick={() => handleClick(8)} />
                        </div>
                      </>
                    );
                  }

                  export default App;

                </script>
              </code>
            </pre>
          </section>
          <section>
            <h1>Declaring a winner</h1>
            <p>
              We'll add a helper function called
              <code>calculateWinner</code>
              that takes an array of 9 squares, checks for a winner and returns
              <code>'X'</code>
              ,
              <code>'O'</code>
              , or
              <code>null</code>
              as appropriate. Don't worry too much about the
              <code>calculateWinner</code>
              function; it's not specific to React
            </p>
            <pre>
              <code data-trim class="language-jsx">
                <script type="text/template">
                  export default function App() {
                    //...
                  }

                  function calculateWinner(squares) {
                    const lines = [
                      [0, 1, 2],
                      [3, 4, 5],
                      [6, 7, 8],
                      [0, 3, 6],
                      [1, 4, 7],
                      [2, 5, 8],
                      [0, 4, 8],
                      [2, 4, 6]
                    ];
                    for (let i = 0; i < lines.length; i++) {
                      const [a, b, c] = lines[i];
                      if (squares[a] && squares[a] === squares[b] && squares[a] === squares[c]) {
                        return squares[a];
                      }
                    }
                    return null;
                  }
                </script>
              </code>
            </pre>
          </section>
          <section>
            <h1>Checking for a winner</h1>
            <p>
              We will call
              <code>calculateWinner(squares)</code>
              in the
              <code>Board</code>
              component's
              <code>handleClick</code>
              function to check if a player has won. We can perform this check at the same time you
              check if a user has clicked a square that already has an
              <code>X</code>
              or an
              <code>O</code>
              . We'd like to return early in both cases:
            </p>
            <pre>
              <code data-trim class="language-jsx">
                <script type="text/template">
                  function handleClick(i) {
                    if (squares[i] || calculateWinner(squares)) {
                      return;
                    }
                    const nextSquares = squares.slice();
                    //...
                  }
                </script>
              </code>
            </pre>
          </section>
          <section>
            <p>
              To let the players know when the game is over, you can display text such as ‚ÄúWinner:
              X‚Äù or ‚ÄúWinner: O‚Äù. To do that you'll add a
              <code>status</code>
              section to the
              <code>Board</code>
              component. The status will display the winner if the game is over and if the game is
              ongoing we'll display which player's turn is next.
            </p>
            <pre>
              <code data-trim class="language-jsx">
                <script type="text/template">
                  export default function App() {
                    // ...
                    const winner = calculateWinner(squares);
                    let status;
                    if (winner) {
                      status = "Winner: " + winner;
                    } else {
                      status = "Next player: " + (xIsNext ? "X" : "O");
                    }

                    return (
                      <>
                        <div className="status">{status}</div>
                        <div className="board-row">
                          // ...
                    )
                  }
                </script>
              </code>
            </pre>
          </section>
          <section>
            <h1>Adding Time Travel</h1>
            <div
              style="display: flex; justify-content: space-around; align-items: center; gap: 2em"
            >
              <div>
                <ul>
                  <li>
                    As a final exercise, let's make it possible to
                    <strong>go back in time</strong>
                    to previous moves.
                  </li>
                  <li>
                    If we mutated the
                    <code>squares</code>
                    array, implementing time travel would be very difficult.
                  </li>
                  <li>
                    However, we used
                    <code>slice()</code>
                    to create a new copy of the
                    <code>squares</code>
                    array after every move, and treated it as immutable. This will allow us to store
                    every past version of the
                    <code>squares</code>
                    array, and navigate between the turns that have already happened.
                  </li>
                  <li>
                    We'll store the past
                    <code>squares</code>
                    arrays in another array called
                    <code>history</code>
                    , which we'll store as a new state variable.
                  </li>
                  <li>
                    The
                    <code>history</code>
                    array represents all board states, from the first to the last move.
                  </li>
                </ul>
              </div>
              <div>
                <pre>
                  <code data-trim class="language-jsx">
                    <script type="text/template">
                      [
                        // Before first move
                        [null, null, null, null, null, null, null, null, null],

                        // After first move
                        [null, null, null, null, 'X', null, null, null, null],

                        // After second move
                        [null, null, null, null, 'X', null, null, null, 'O'],

                        // ...
                      ]
                    </script>
                  </code>
                </pre>
              </div>
            </div>
          </section>
          <section>
            <h1>Lifting state up, again</h1>
            <ul>
              <li>
                Currently we have the following hierarchy:
                <code>App</code>
                -&gt;
                <code>Square</code>
              </li>
              <li>
                We are changing the hierarchy of the components to:
                <code>Game</code>
                -&gt;
                <code>Board</code>
                -&gt;
                <code>Square</code>
              </li>
              <li>
                The new top-level component called
                <code>Game</code>
                will display a list of past moves. That's where we will place the history state that
                contains the entire game history.
              </li>
              <li>
                Placing the
                <code>history</code>
                state into the
                <code>Game</code>
                component will let us remove the
                <code>squares</code>
                state from its child
                <code>Board</code>
                component.
              </li>
              <li>
                Just like we ‚Äúlifted state up‚Äù from the
                <code>Square</code>
                component into the
                <code>App</code>
                component, we will now lift it up from the
                <code>Board</code>
                into the top-level
                <code>Game</code>
                component. This gives the
                <code>Game</code>
                component full control over the
                <code>Board</code>
                's data and lets it instruct the
                <code>Board</code>
                to render previous turns from the
                <code>history</code>
                .
              </li>
            </ul>
          </section>
          <section>
            <h1>Renaming the components</h1>
            <div
              style="display: flex; justify-content: space-around; align-items: center; gap: 2em"
            >
              <div>
                <ul>
                  <li>
                    Let's rename the
                    <code>App</code>
                    component to
                    <code>Board</code>
                    and create a new
                    <code>Game</code>
                    component with
                    <code>export default</code>
                    .
                  </li>
                  <li>
                    Note that we are removing the
                    <code>export default</code>
                    keywords before the
                    <code>function App() {</code>
                    declaration and adding them before the
                    <code>function Game() {</code>
                    declaration.
                  </li>
                  <li>
                    This tells
                    <code>index.js</code>
                    file to use the
                    <code>Game</code>
                    component as the top-level component instead of your
                    <code>Board</code>
                    component.
                  </li>
                  <li>
                    The additional
                    <code>div</code>
                    s returned by the
                    <code>Game</code>
                    component are making room for the game information we'll add to the board later.
                  </li>
                </ul>
              </div>
              <div>
                <pre>
                  <code data-trim class="language-jsx">
                    <script type="text/template">
                      function Board() {
                        // ...
                      }

                      export default function Game() {
                        return (
                          <div className="game">
                            <div className="game-board">
                              <Board />
                            </div>
                            <div className="game-info">
                              <ol>{/*TODO*/}</ol>
                            </div>
                          </div>
                        );
                      }
                    </script>
                  </code>
                </pre>
              </div>
            </div>
          </section>
          <section>
            <h1>Adding the history state</h1>
            <div
              style="display: flex; justify-content: space-around; align-items: center; gap: 2em"
            >
              <div>
                <ul>
                  <li>
                    Let's add a new state to the
                    <code>Game</code>
                    component to track the history of moves.
                  </li>
                  <li>
                    Notice how
                    <strong>[Array(9).fill(null)]</strong>
                    is an array with a single item, which itself is an array of 9 nulls.
                  </li>
                </ul>
              </div>
              <div>
                <pre>
                  <code data-trim class="language-jsx">
                    <script type="text/template">
                      export default function Game() {
                        const [xIsNext, setXIsNext] = useState(true);
                        const [history, setHistory] = useState([Array(9).fill(null)]);
                        // ...
                    </script>
                  </code>
                </pre>
              </div>
            </div>
          </section>
          <section>
            <h1>Rendering the squares</h1>
            <p>
              To render the squares for the current move, we'll want to read the last squares array
              from the
              <code>history</code>
              . We don't need
              <code>useState</code>
              for this‚Äîwe already have enough information to calculate it during rendering
            </p>
            <pre>
              <code data-trim class="language-jsx">
                <script type="text/template">
                  export default function Game() {
                    const [xIsNext, setXIsNext] = useState(true);
                    const [history, setHistory] = useState([Array(9).fill(null)]);
                    const currentSquares = history[history.length - 1];
                    // ...
                </script>
              </code>
            </pre>
            <p>
              Next, create a
              <code>handlePlay</code>
              function inside the
              <code>Game</code>
              component that will be called by the
              <code>Board</code>
              component to update the game. Pass
              <code>xIsNext</code>
              ,
              <code>currentSquares</code>
              and
              <code>handlePlay</code>
              as props to the
              <code>Board</code>
              component:
            </p>
            <pre>
              <code data-trim class="language-jsx">
                <script type="text/template">
                  export default function Game() {
                    const [xIsNext, setXIsNext] = useState(true);
                    const [history, setHistory] = useState([Array(9).fill(null)]);
                    const currentSquares = history[history.length - 1];

                    function handlePlay(nextSquares) {
                      // TODO
                    }

                    return (
                      <div className="game">
                        <div className="game-board">
                          <Board xIsNext={xIsNext} squares={currentSquares} onPlay={handlePlay} />
                          //...
                    )
                  }
                </script>
              </code>
            </pre>
          </section>
          <section>
            <h1>Making the Board fully controlled</h1>
            <div
              style="display: flex; justify-content: space-around; align-items: center; gap: 2em"
            >
              <div>
                <ul>
                  <li>
                    Let's make the
                    <code>Board</code>
                    component fully controlled by the props it receives.
                  </li>
                  <li>
                    Change the
                    <code>Board</code>
                    component to take three props:
                    <code>xIsNext</code>
                    ,
                    <code>squares</code>
                    , and a new
                    <code>onPlay</code>
                    function that
                    <code>Board</code>
                    can call with the updated squares array when a player makes a move.
                  </li>
                  <li>
                    Next, remove the first two lines of the
                    <code>Board</code>
                    function that call
                    <code>useState</code>
                  </li>
                  <li>
                    Now replace the
                    <code>setSquares</code>
                    and
                    <code>setXIsNext</code>
                    calls in
                    <code>handleClick</code>
                    in the
                    <code>Board</code>
                    component with a single call to your new
                    <code>onPlay</code>
                    function so the
                    <code>Game</code>
                    component can update the
                    <code>Board</code>
                    when the user clicks a square
                  </li>
                </ul>
              </div>
              <div>
                <pre>
                  <code data-trim class="language-jsx">
                    <script type="text/template">
                      function Board({ xIsNext, squares, onPlay }) {
                        function handleClick(i) {
                          if (calculateWinner(squares) || squares[i]) {
                            return;
                          }
                          const nextSquares = squares.slice();
                          if (xIsNext) {
                            nextSquares[i] = "X";
                          } else {
                            nextSquares[i] = "O";
                          }
                          onPlay(nextSquares);
                        }
                        //...
                      }
                    </script>
                  </code>
                </pre>
              </div>
            </div>
          </section>
          <section>
            <h1>Final touches</h1>
            <ul>
              <li>
                We need to implement the
                <code>handlePlay</code>
                function in the
                <code>Game</code>
                component to get the game working again.
              </li>
              <li>
                What should
                <code>handlePlay</code>
                do when called? Remember that Board used to call
                <code>setSquares</code>
                with an updated array; now it passes the updated
                <code>squares</code>
                array to
                <code>onPlay</code>
                .
              </li>
              <li>
                The
                <code>handlePlay</code>
                function needs to update
                <code>Game</code>
                's state to trigger a re-render, but we don't have a
                <code>setSquares</code>
                function that we can call any more‚Äîwe're now using the
                <code>history</code>
                state variable to store this information.
              </li>
              <li>
                We'll want to update
                <code>history</code>
                by appending the updated
                <code>squares</code>
                array as a new history entry. You also want to toggle
                <code>xIsNext</code>
                , just as Board used to do
              </li>
              <li>
                Here,
                <code>[...history, nextSquares]</code>
                creates a new array that contains all the items in
                <code>history</code>
                , followed by
                <code>nextSquares</code>
                . For example, if
                <code>history</code>
                is
                <code>[[null,null,null], ["X",null,null]]</code>
                and
                <code>nextSquares</code>
                is
                <code>["X",null,"O"]</code>
                , then the new
                <code>[...history, nextSquares]</code>
                array will be
                <code>[[null,null,null], ["X",null,null], ["X",null,"O"]]</code>
                .
              </li>
            </ul>
            <pre>
              <code data-trim class="language-jsx">
                <script type="text/template">
                  export default function Game() {
                    //...
                    function handlePlay(nextSquares) {
                      setHistory([...history, nextSquares]);
                      setXIsNext(!xIsNext);
                    }
                    //...
                  }
                </script>
              </code>
            </pre>
          </section>
          <section>
            <h1>What it looks like after the refactoring</h1>
            <pre>
              <code data-trim class="language-jsx">
                <script type="text/template">
                  import { useState } from 'react';
                  import './App.css';

                  function Square({ value, onSquareClick }) {
                    return (
                      <button className="square" onClick={onSquareClick}>
                        {value}
                      </button>
                    );
                  }

                  function Board({ xIsNext, squares, onPlay }) {
                    function handleClick(i) {
                      if (calculateWinner(squares) || squares[i]) {
                        return;
                      }
                      const nextSquares = squares.slice();
                      if (xIsNext) {
                        nextSquares[i] = 'X';
                      } else {
                        nextSquares[i] = 'O';
                      }
                      onPlay(nextSquares);
                    }

                    const winner = calculateWinner(squares);
                    let status;
                    if (winner) {
                      status = 'Winner: ' + winner;
                    } else {
                      status = 'Next player: ' + (xIsNext ? 'X' : 'O');
                    }

                    return (
                      <>
                        <div className="status">{status}</div>
                        <div className="board-row">
                          <Square value={squares[0]} onSquareClick={() => handleClick(0)} />
                          <Square value={squares[1]} onSquareClick={() => handleClick(1)} />
                          <Square value={squares[2]} onSquareClick={() => handleClick(2)} />
                        </div>
                        <div className="board-row">
                          <Square value={squares[3]} onSquareClick={() => handleClick(3)} />
                          <Square value={squares[4]} onSquareClick={() => handleClick(4)} />
                          <Square value={squares[5]} onSquareClick={() => handleClick(5)} />
                        </div>
                        <div className="board-row">
                          <Square value={squares[6]} onSquareClick={() => handleClick(6)} />
                          <Square value={squares[7]} onSquareClick={() => handleClick(7)} />
                          <Square value={squares[8]} onSquareClick={() => handleClick(8)} />
                        </div>
                      </>
                    );
                  }

                  export default function Game() {
                    const [xIsNext, setXIsNext] = useState(true);
                    const [history, setHistory] = useState([Array(9).fill(null)]);
                    const currentSquares = history[history.length - 1];

                    function handlePlay(nextSquares) {
                      setHistory([...history, nextSquares]);
                      setXIsNext(!xIsNext);
                    }

                    return (
                      <div className="game">
                        <div className="game-board">
                          <Board xIsNext={xIsNext} squares={currentSquares} onPlay={handlePlay} />
                        </div>
                        <div className="game-info">
                          <ol>{/*TODO*/}</ol>
                        </div>
                      </div>
                    );
                  }

                  function calculateWinner(squares) {
                    const lines = [
                      [0, 1, 2],
                      [3, 4, 5],
                      [6, 7, 8],
                      [0, 3, 6],
                      [1, 4, 7],
                      [2, 5, 8],
                      [0, 4, 8],
                      [2, 4, 6],
                    ];
                    for (let i = 0; i < lines.length; i++) {
                      const [a, b, c] = lines[i];
                      if (squares[a] && squares[a] === squares[b] && squares[a] === squares[c]) {
                        return squares[a];
                      }
                    }
                    return null;
                  }

                </script>
              </code>
            </pre>
          </section>
          <section>
            <h1>Showing the past moves</h1>
            <div
              style="display: flex; justify-content: space-around; align-items: center; gap: 2em"
            >
              <div style="width: 60%">
                <ul>
                  <li>
                    Since we are recording the tic-tac-toe game's history, we can now display a list
                    of past moves to the player.
                  </li>
                  <li>
                    React elements like
                    <code>&lt;button&gt;</code>
                    are regular JavaScript objects; we can pass them around in our application. To
                    render multiple items in React, we can use an array of React elements.
                  </li>
                  <li>
                    You already have an array of
                    <code>history</code>
                    moves in state, so now you need to transform it to an array of React elements.
                    In JavaScript, to transform one array into another, you can use the
                    <a
                      href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map"
                      target="_blank"
                    >
                      array map method
                    </a>
                  </li>
                </ul>
              </div>
              <div style="width: 40%">
                <pre>
                  <code data-trim class="language-jsx">
                    <script type="text/template">
                      export default function Game() {
                        const [xIsNext, setXIsNext] = useState(true);
                        const [history, setHistory] = useState([Array(9).fill(null)]);
                        const currentSquares = history[history.length - 1];

                        function handlePlay(nextSquares) {
                          setHistory([...history, nextSquares]);
                          setXIsNext(!xIsNext);
                        }

                        function jumpTo(nextMove) {
                          // TODO
                        }

                        const moves = history.map((squares, move) => {
                          let description;
                          if (move > 0) {
                            description = 'Go to move #' + move;
                          } else {
                            description = 'Go to game start';
                          }
                          return (
                            <li>
                              <button onClick={() => jumpTo(move)}>{description}</button>
                            </li>
                          );
                        });

                        return (
                          <div className="game">
                            <div className="game-board">
                              <Board xIsNext={xIsNext} squares={currentSquares} onPlay={handlePlay} />
                            </div>
                            <div className="game-info">
                              <ol>{moves}</ol>
                            </div>
                          </div>
                        );
                      }
                    </script>
                  </code>
                </pre>
              </div>
            </div>
          </section>
          <section>
            <h1>Warning</h1>
            <p>
              If you check the browser's console you will notice that there is a warning that says:
            </p>
            <p>
              <em>
                Warning: Each child in an array or iterator should have a unique ‚Äúkey‚Äù prop. Check
                the render method of `Game`. See
                <a href="https://react.dev/link/warning-keys" target="_blank">
                  https://react.dev/link/warning-keys
                </a>
                for more information.
              </em>
            </p>
          </section>
          <section>
            <h1>Picking a key</h1>
            <ul>
              <li>
                When you
                <em>render</em>
                a list, React stores some information about each rendered list item. When you
                <em>update</em>
                a list, React needs to determine what has changed.
              </li>
              <li>
                Imagine transitioning from
                <pre>
                  <code data-trim class="language-html">
                    <script type="text/template">
                      <li>Alexa: 7 tasks left</li>
                      <li>Ben: 5 tasks left</li>
                    </script>
                  </code>
                </pre>
              </li>
              <li>
                to
                <pre>
                  <code data-trim class="language-html">
                    <script type="text/template">
                      <li>Ben: 9 tasks left</li>
                      <li>Claudia: 8 tasks left</li>
                      <li>Alexa: 5 tasks left</li>
                    </script>
                  </code>
                </pre>
              </li>
              <li>
                We need to specify a key property for each list item to differentiate each list item
                from its siblings. If your data was from a database, Alexa, Ben, and Claudia's
                database IDs could be used as keys.
                <pre>
                  <code data-trim class="language-html">
                    <script type="text/template">
                      <li key={user.id}>
                        {user.name}: {user.taskCount} tasks left
                      </li>
                    </script>
                  </code>
                </pre>
              </li>
              <li>
                It's strongly recommended that you assign proper keys whenever you build dynamic
                lists.
              </li>
            </ul>
          </section>
          <section>
            <h1>Fixing the key error</h1>
            <ul>
              <li>
                In the tic-tac-toe game's history, each past move has a unique ID associated with
                it: it's the
                <strong>sequential</strong>
                number of the
                <strong>move</strong>
                .
              </li>
              <li>
                Moves will never be re-ordered, deleted, or inserted in the middle, so it's safe to
                use the move index as a key.
              </li>
              <li>
                In the
                <code>Game</code>
                function, you can add the key as
                <code>&lt;li key={move}&gt;</code>
                , and if you reload the rendered game, React's
                <em>key error</em>
                should disappear
              </li>
            </ul>
            <pre>
              <code data-trim class="language-jsx">
                <script type="text/template">
                  const moves = history.map((squares, move) => {
                    //...
                    return (
                      <li key={move}>
                        <button onClick={() => jumpTo(move)}>{description}</button>
                      </li>
                    );
                  });
                </script>
              </code>
            </pre>
          </section>
          <section>
            <h1>Implementing Time Travel</h1>

            <ul>
              <li>
                Before we can implement
                <code>jumpTo</code>
                , you need the
                <code>Game</code>
                component to keep track of which step the user is currently viewing. To do this,
                let's define a new state variable called
                <code>currentMove</code>
                , defaulting to
                <code>0</code>
              </li>
              <li>
                Next, update the
                <code>jumpTo</code>
                function inside
                <code>Game</code>
                to update that
                <code>currentMove</code>
                . You'll also set
                <code>xIsNext</code>
                to
                <code>true</code>
                if the number that you're changing
                <code>currentMove</code>
                to is even.
              </li>
              <li>
                If we
                <em>go back in time</em>
                and then make a new move from that point, we only want to keep the history up to
                that point. Instead of adding
                <code>nextSquares</code>
                after all items (
                <code>...</code>
                spread syntax) in
                <code>history</code>
                , we'll add it after all items in
                <code>history.slice(0, currentMove + 1)</code>
                so that we are only keeping that portion of the old history.
              </li>
              <li>
                Each time a move is made, we need to update
                <code>currentMove</code>
                to point to the latest history entry.
              </li>
              <li>
                Finally, we will modify the
                <code>Game</code>
                component to render the currently selected move, instead of always rendering the
                final move
              </li>
            </ul>
          </section>
          <section>
            <pre>
              <code data-trim class="language-jsx">
                <script type="text/template">
                  import { useState } from 'react';
                  import './App.css';

                  function Square({ value, onSquareClick }) {
                    return (
                      <button className="square" onClick={onSquareClick}>
                        {value}
                      </button>
                    );
                  }

                  function Board({ xIsNext, squares, onPlay }) {
                    function handleClick(i) {
                      if (calculateWinner(squares) || squares[i]) {
                        return;
                      }
                      const nextSquares = squares.slice();
                      if (xIsNext) {
                        nextSquares[i] = 'X';
                      } else {
                        nextSquares[i] = 'O';
                      }
                      onPlay(nextSquares);
                    }

                    const winner = calculateWinner(squares);
                    let status;
                    if (winner) {
                      status = 'Winner: ' + winner;
                    } else {
                      status = 'Next player: ' + (xIsNext ? 'X' : 'O');
                    }

                    return (
                      <>
                        <div className="status">{status}</div>
                        <div className="board-row">
                          <Square value={squares[0]} onSquareClick={() => handleClick(0)} />
                          <Square value={squares[1]} onSquareClick={() => handleClick(1)} />
                          <Square value={squares[2]} onSquareClick={() => handleClick(2)} />
                        </div>
                        <div className="board-row">
                          <Square value={squares[3]} onSquareClick={() => handleClick(3)} />
                          <Square value={squares[4]} onSquareClick={() => handleClick(4)} />
                          <Square value={squares[5]} onSquareClick={() => handleClick(5)} />
                        </div>
                        <div className="board-row">
                          <Square value={squares[6]} onSquareClick={() => handleClick(6)} />
                          <Square value={squares[7]} onSquareClick={() => handleClick(7)} />
                          <Square value={squares[8]} onSquareClick={() => handleClick(8)} />
                        </div>
                      </>
                    );
                  }

                  export default function Game() {
                    const [xIsNext, setXIsNext] = useState(true);
                    const [history, setHistory] = useState([Array(9).fill(null)]);
                    const [currentMove, setCurrentMove] = useState(0);
                    const currentSquares = history[currentMove];

                    function handlePlay(nextSquares) {
                      const nextHistory = [...history.slice(0, currentMove + 1), nextSquares];
                      setHistory(nextHistory);
                      setCurrentMove(nextHistory.length - 1);
                      setXIsNext(!xIsNext);
                    }

                    function jumpTo(nextMove) {
                      setCurrentMove(nextMove);
                      setXIsNext(nextMove % 2 === 0);
                    }

                    const moves = history.map((squares, move) => {
                      let description;
                      if (move > 0) {
                        description = 'Go to move #' + move;
                      } else {
                        description = 'Go to game start';
                      }
                      return (
                        <li key={move}>
                          <button onClick={() => jumpTo(move)}>{description}</button>
                        </li>
                      );
                    });

                    return (
                      <div className="game">
                        <div className="game-board">
                          <Board xIsNext={xIsNext} squares={currentSquares} onPlay={handlePlay} />
                        </div>
                        <div className="game-info">
                          <ol>{moves}</ol>
                        </div>
                      </div>
                    );
                  }

                  function calculateWinner(squares) {
                    const lines = [
                      [0, 1, 2],
                      [3, 4, 5],
                      [6, 7, 8],
                      [0, 3, 6],
                      [1, 4, 7],
                      [2, 5, 8],
                      [0, 4, 8],
                      [2, 4, 6],
                    ];
                    for (let i = 0; i < lines.length; i++) {
                      const [a, b, c] = lines[i];
                      if (squares[a] && squares[a] === squares[b] && squares[a] === squares[c]) {
                        return squares[a];
                      }
                    }
                    return null;
                  }

                </script>
              </code>
            </pre>
          </section>
          <section>
            <h1>Final Clean Up</h1>
            <div
              style="display: flex; justify-content: space-around; align-items: center; gap: 2em"
            >
              <div style="width: 60%">
                <ul>
                  <li>
                    If you look at the code very closely, you may notice that
                    <code>xIsNext === true</code>
                    when
                    <code>currentMove</code>
                    is even and
                    <code>xIsNext === false</code>
                    when
                    <code>currentMove</code>
                    is odd.
                  </li>
                  <li>
                    In other words, if we know the value of
                    <code>currentMove</code>
                    , then we can always figure out what
                    <code>xIsNext</code>
                    should be.
                  </li>
                  <li>
                    There's
                    <em>no reason for us to store both of these in state</em>
                    . In fact,
                    <strong>always try to avoid redundant state</strong>
                    .
                  </li>
                  <li>
                    Simplifying what you store in state reduces bugs and makes your code easier to
                    understand.
                  </li>
                  <li>
                    Let's change
                    <code>Game</code>
                    so that it doesn't store
                    <code>xIsNext</code>
                    as a separate state variable and instead figures it out based on the
                    <code>currentMove</code>
                  </li>
                </ul>
              </div>
              <div style="width: 40%">
                <pre>
                  <code data-trim class="language-jsx">
                    <script type="text/template">
                      export default function Game() {
                        const [history, setHistory] = useState([Array(9).fill(null)]);
                        const [currentMove, setCurrentMove] = useState(0);
                        const xIsNext = currentMove % 2 === 0;
                        const currentSquares = history[currentMove];

                        function handlePlay(nextSquares) {
                          const nextHistory = [...history.slice(0, currentMove + 1), nextSquares];
                          setHistory(nextHistory);
                          setCurrentMove(nextHistory.length - 1);
                        }

                        function jumpTo(nextMove) {
                          setCurrentMove(nextMove);
                        }
                        // ...
                      }
                    </script>
                  </code>
                </pre>
              </div>
            </div>
          </section>
          <section>
            <h1>Final Result</h1>
            <pre>
              <code data-trim class="language-jsx">
                <script type="text/template">
                  import { useState } from 'react';
                  import './App.css';

                  function Square({ value, onSquareClick }) {
                    return (
                      <button className="square" onClick={onSquareClick}>
                        {value}
                      </button>
                    );
                  }

                  function Board({ xIsNext, squares, onPlay }) {
                    function handleClick(i) {
                      if (calculateWinner(squares) || squares[i]) {
                        return;
                      }
                      const nextSquares = squares.slice();
                      if (xIsNext) {
                        nextSquares[i] = 'X';
                      } else {
                        nextSquares[i] = 'O';
                      }
                      onPlay(nextSquares);
                    }

                    const winner = calculateWinner(squares);
                    let status;
                    if (winner) {
                      status = 'Winner: ' + winner;
                    } else {
                      status = 'Next player: ' + (xIsNext ? 'X' : 'O');
                    }

                    return (
                      <>
                        <div className="status">{status}</div>
                        <div className="board-row">
                          <Square value={squares[0]} onSquareClick={() => handleClick(0)} />
                          <Square value={squares[1]} onSquareClick={() => handleClick(1)} />
                          <Square value={squares[2]} onSquareClick={() => handleClick(2)} />
                        </div>
                        <div className="board-row">
                          <Square value={squares[3]} onSquareClick={() => handleClick(3)} />
                          <Square value={squares[4]} onSquareClick={() => handleClick(4)} />
                          <Square value={squares[5]} onSquareClick={() => handleClick(5)} />
                        </div>
                        <div className="board-row">
                          <Square value={squares[6]} onSquareClick={() => handleClick(6)} />
                          <Square value={squares[7]} onSquareClick={() => handleClick(7)} />
                          <Square value={squares[8]} onSquareClick={() => handleClick(8)} />
                        </div>
                      </>
                    );
                  }

                  export default function Game() {
                    const [history, setHistory] = useState([Array(9).fill(null)]);
                    const [currentMove, setCurrentMove] = useState(0);
                    const xIsNext = currentMove % 2 === 0;
                    const currentSquares = history[currentMove];

                    function handlePlay(nextSquares) {
                      const nextHistory = [...history.slice(0, currentMove + 1), nextSquares];
                      setHistory(nextHistory);
                      setCurrentMove(nextHistory.length - 1);
                    }

                    function jumpTo(nextMove) {
                      setCurrentMove(nextMove);
                    }

                    const moves = history.map((squares, move) => {
                      let description;
                      if (move > 0) {
                        description = 'Go to move #' + move;
                      } else {
                        description = 'Go to game start';
                      }
                      return (
                        <li key={move}>
                          <button onClick={() => jumpTo(move)}>{description}</button>
                        </li>
                      );
                    });

                    return (
                      <div className="game">
                        <div className="game-board">
                          <Board xIsNext={xIsNext} squares={currentSquares} onPlay={handlePlay} />
                        </div>
                        <div className="game-info">
                          <ol>{moves}</ol>
                        </div>
                      </div>
                    );
                  }

                  function calculateWinner(squares) {
                    const lines = [
                      [0, 1, 2],
                      [3, 4, 5],
                      [6, 7, 8],
                      [0, 3, 6],
                      [1, 4, 7],
                      [2, 5, 8],
                      [0, 4, 8],
                      [2, 4, 6],
                    ];
                    for (let i = 0; i < lines.length; i++) {
                      const [a, b, c] = lines[i];
                      if (squares[a] && squares[a] === squares[b] && squares[a] === squares[c]) {
                        return squares[a];
                      }
                    }
                    return null;
                  }

                </script>
              </code>
            </pre>
          </section>
          <section>
            <h1>Ideas for improvements</h1>
            <ol>
              <li>For the current move only, show ‚ÄúYou are at move #‚Ä¶‚Äù instead of a button.</li>
              <li>
                Rewrite
                <code>Board</code>
                to use two loops to make the squares instead of hardcoding them.
              </li>
              <li>
                Add a toggle button that lets you sort the moves in either ascending or descending
                order.
              </li>
              <li>
                When someone wins, highlight the three squares that caused the win (and when no one
                wins, display a message about the result being a draw).
              </li>
              <li>
                Display the location for each move in the format (row, col) in the move history
                list.
              </li>
            </ol>
          </section>
        </section>
        <section>
          <section>
            <h1>Forms</h1>
            <ul>
              <li>Let's build a simple HTML form that allows users to add a new note</li>
              <li>
                Create a new vite project (
                <code>npm create vite@latest notes -- --template react</code>
                ), clean up unnecessary files (e.g. index.css) and update the main component with
                the following:
              </li>
            </ul>
            <div
              style="
                display: flex;
                justify-content: space-between;
                align-items: flex-start;
                gap: 2em;
              "
            >
              <div>
                <img width="100%" src="bootstrap-notes-app.png" alt="Bootstrap Notes App" />
              </div>
              <div>
                <pre>
                  <code data-trim class="language-jsx">
                    <script type="text/template">
                      // App.jsx

                      import { useState } from 'react'
                      import Note from './components/Note'

                      const App = (props) => {
                        const [notes, setNotes] = useState(props.notes)

                        return (
                          <div>
                            <h1>Notes</h1>
                            <ul>
                              {notes.map(note =>
                                <Note key={note.id} note={note} />
                              )}
                            </ul>
                          </div>
                        )
                      }

                      export default App
                  </script>
                  </code>
                </pre>
              </div>
              <div>
                <pre>
                  <code data-trim class="language-jsx">
                    <script type="text/template">
                      // Note.jsx

                      const Note = ({ note }) => {
                        return (
                          <li>
                            {note.content} {note.important ? '(important)' : ''}
                          </li>
                        );
                      };

                      export default Note;

                    </script>
                  </code>
                </pre>
              </div>
            </div>
          </section>
          <section>
            <h1>Adding the HTML form</h1>
            <p>
              Next, let's add an HTML
              <a href="https://developer.mozilla.org/en-US/docs/Learn/HTML/Forms" target="_blank">
                form
              </a>
              to the component that will be used for adding new notes.
            </p>
            <pre>
              <code data-trim class="language-jsx">
                <script type="text/template">
                  const App = (props) => {
                    const [notes, setNotes] = useState(props.notes)

                    const addNote = (event) => {
                      event.preventDefault()
                      console.log('button clicked', event.target)
                    }

                    return (
                      <div>
                        <h1>Notes</h1>
                        <ul>
                          {notes.map(note =>
                            <Note key={note.id} note={note} />
                          )}
                        </ul>
                        <form onSubmit={addNote}>
                          <input />
                          <button type="submit">save</button>
                        </form>
                      </div>
                    )
                  }
                </script>
              </code>
            </pre>
            <p>
              We have added the
              <em>addNote</em>
              function as an event handler to the form element that will be called when the form is
              submitted, by clicking the submit button.
            </p>
          </section>
          <section>
            <h1>Controlled Component</h1>
            <div
              style="display: flex; justify-content: space-between; align-items: center; gap: 2em"
            >
              <div>
                <ul>
                  <li>How do we access the data contained in the form's input element?</li>
                  <li>
                    There are many ways to accomplish this; the first method we will take a look at
                    is through the use of so-called
                    <a
                      href="https://react.dev/reference/react-dom/components/input#controlling-an-input-with-a-state-variable"
                      target="_blank"
                    >
                      controlled components
                    </a>
                    .
                  </li>
                  <li>
                    Let's add a new piece of state called
                    <code>newNote</code>
                    for storing the user-submitted input and let's set it as the
                    <em>input</em>
                    element's
                    <em>value</em>
                    attribute
                  </li>
                </ul>
              </div>
              <div>
                <pre>
                  <code data-trim class="language-jsx">
                    <script type="text/template">
                      const App = (props) => {
                        const [notes, setNotes] = useState(props.notes)
                        const [newNote, setNewNote] = useState(
                          'a new note...'
                        )

                        const addNote = (event) => {
                          event.preventDefault()
                          console.log('button clicked', event.target)
                        }

                        return (
                          <div>
                            <h1>Notes</h1>
                            <ul>
                              {notes.map(note =>
                                <Note key={note.id} note={note} />
                              )}
                            </ul>
                            <form onSubmit={addNote}>
                              <input value={newNote} />
                              <button type="submit">save</button>
                            </form>
                          </div>
                        )
                      }
                    </script>
                  </code>
                </pre>
              </div>
            </div>
          </section>
          <section>
            <h1>What's happening?</h1>
            <p>
              The placeholder text stored as the initial value of the
              <code>newNote</code>
              state appears in the
              <em>input</em>
              element, but the input text can't be edited. The console displays a warning that gives
              us a clue as to what might be wrong
            </p>
            <p>
              <em>
                You provided a `value` prop to a form field without an `onChange` handler. This will
                render a read-only field. If the field should be mutable use `defaultValue`.
                Otherwise, set either `onChange` or `readOnly`.
              </em>
            </p>
            <p>
              Since we assigned a piece of the
              <code>App</code>
              component's state as the
              <code>value</code>
              attribute of the input element, the
              <code>App</code>
              component now
              <a
                href="https://react.dev/reference/react-dom/components/input#controlling-an-input-with-a-state-variable"
                target="_blank"
              >
                controls
              </a>
              the behavior of the input element.
            </p>
          </section>
          <section>
            <h1>Event handler</h1>
            <p>
              To enable editing of the input element, we have to register an
              <em>event handler</em>
              that synchronizes the changes made to the input with the component's state:
            </p>
            <pre>
              <code data-trim class="language-jsx">
                <script type="text/template">
                  const App = () => {
                    const [notes, setNotes] = useState([]);
                    const [newNote, setNewNote] = useState('a new note...');

                    const addNote = (event) => {
                      event.preventDefault();
                      console.log('button clicked', event.target);
                    };

                    const handleNoteChange = (event) => {
                      console.log(event.target.value);
                      setNewNote(event.target.value);
                    };

                    return (
                      <div>
                        <h1>Notes</h1>
                        <ul>
                          {notes.map((note) => (
                            <Note key={note.id} note={note} />
                          ))}
                        </ul>
                        <form onSubmit={addNote}>
                          <input value={newNote} onChange={handleNoteChange} />
                          <button type="submit">save</button>
                        </form>
                      </div>
                    );
                  };
                </script>
              </code>
            </pre>
            <p>
              Note that we did not need to call the
              <code>event.preventDefault()</code>
              method like we did in the
              <code>onSubmit</code>
              event handler. This is because no default action occurs on an input change, unlike a
              form submission.
            </p>
          </section>
          <section>
            <h1>Adding a new note</h1>
            <pre>
              <code data-trim class="language-jsx">
                <script type="text/template">
                  const addNote = (event) => {
                    event.preventDefault()
                    const noteObject = {
                      content: newNote,
                      important: Math.random() < 0.5,
                      id: String(notes.length + 1),
                    }

                    setNotes(notes.concat(noteObject))
                    setNewNote('')
                  }
                </script>
              </code>
            </pre>
            <ul>
              <li>
                First, we create a new object for the note called
                <code>noteObject</code>
                that will receive its content from the component's
                <code>newNote</code>
                state.
              </li>
              <li>
                The unique identifier
                <em>id</em>
                is generated based on the total number of notes. This method works for our
                application since notes are never deleted.
              </li>
              <li>
                With the help of the
                <code>Math.random()</code>
                function, our note has a 50% chance of being marked as important.
              </li>
              <li>
                The new note is added to the list of notes using the
                <a
                  href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/concat"
                  target="_blank"
                >
                  concat
                </a>
                array method
              </li>
              <li>
                The method does not mutate the original
                <code>notes</code>
                array, but rather creates
                <em>a new copy of the array with the new item added to the end</em>
                . This is important since we must
                <a
                  href="https://react.dev/learn/updating-objects-in-state#why-is-mutating-state-not-recommended-in-react"
                  target="_blank"
                >
                  never mutate state directly
                </a>
                in React!
              </li>
            </ul>
          </section>
          <section>
            <h1>We can add notes now!</h1>
            <pre>
              <code data-trim class="language-jsx">
                <script type="text/template">
                  import { useState } from 'react';
                  import './App.css';
                  import Note from './components/Note';

                  const App = () => {
                    const [notes, setNotes] = useState([]);
                    const [newNote, setNewNote] = useState('a new note...');

                    const addNote = (event) => {
                      event.preventDefault();
                      const noteObject = {
                        content: newNote,
                        important: Math.random() < 0.5,
                        id: String(notes.length + 1),
                      };

                      setNotes(notes.concat(noteObject));
                      setNewNote('');
                    };

                    const handleNoteChange = (event) => {
                      console.log(event.target.value);
                      setNewNote(event.target.value);
                    };

                    return (
                      <div>
                        <h1>Notes</h1>
                        <ul>
                          {notes.map((note) => (
                            <Note key={note.id} note={note} />
                          ))}
                        </ul>
                        <form onSubmit={addNote}>
                          <input value={newNote} onChange={handleNoteChange} />
                          <button type="submit">save</button>
                        </form>
                      </div>
                    );
                  };

                  export default App;
                </script>
              </code>
            </pre>
          </section>
          <section>
            <h1>Filtering notes</h1>
            <div
              style="display: flex; justify-content: space-between; align-items: center; gap: 1em"
            >
              <div style="max-width: 60%">
                <ul>
                  <li>
                    Let's add some new functionality to our application that allows us to only view
                    the important notes.
                  </li>
                  <li>
                    Let's add a piece of state to the
                    <code>App</code>
                    component that keeps track of which notes should be displayed:
                  </li>
                  <li>
                    Let's change the component so that it stores a list of all the notes to be
                    displayed in the
                    <code>notesToShow</code>
                    variable. The items on the list depend on the state of the component:
                  </li>
                  <li>
                    If the value of
                    <code>showAll</code>
                    is false, the
                    <code>notesToShow</code>
                    variable will be assigned to a list that only contains notes that have the
                    <em>important</em>
                    property set to true. Filtering is done with the help of the array
                    <a
                      href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/filter"
                      target="_blank"
                      style="border-color: rgb(235, 135, 85)"
                    >
                      filter
                    </a>
                    method
                  </li>
                </ul>
              </div>
              <div style="max-width: 40%">
                <pre>
                  <code data-trim class="language-jsx">
                    <script type="text/template">
                      import { useState } from 'react'
                      import Note from './components/Note'

                      const App = (props) => {
                        const [notes, setNotes] = useState(props.notes)
                        const [newNote, setNewNote] = useState('')
                        const [showAll, setShowAll] = useState(true)

                        // ...

                        const notesToShow = showAll
                          ? notes
                          : notes.filter(note => note.important === true)

                        return (
                          <div>
                            <h1>Notes</h1>
                            <div>
                              <button onClick={() => setShowAll(!showAll)}>
                                show {showAll ? 'important' : 'all'}
                              </button>
                            </div>
                            <ul>
                              {notesToShow.map(note =>
                                <Note key={note.id} note={note} />
                              )}
                            </ul>
                            // ...
                          </div>
                        )
                      }
                    </script>
                  </code>
                </pre>
              </div>
            </div>
          </section>
        </section>
        <section>
          <h1>My Todo App</h1>
          <img width="50%" src="my-to-do-list.png" alt="My Todo App" />
        </section>
        <section>
          <section>
            <h1>Interacting with a server</h1>
          </section>
        </section>
        <section>
          <h1>References</h1>
          <ul>
            <li>
              <a href="https://react.dev/learn" target="_blank">React Official Documentation</a>
            </li>
            <li>
              <a href="https://egghead.io/courses/start-learning-react" target="_blank">
                React playlist on egghead.io
              </a>
            </li>
          </ul>
        </section>
      </div>
    </div>
    <script type="module" src="/main.js"></script>
  </body>
</html>
