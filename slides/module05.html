<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="favicon.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Module 05 - Web System Development</title>
  </head>
  <body>
    <div class="reveal">
      <div class="slides">
        <section>
          <h1>Web System Development</h1>
          <h2>Module 05: Frontend</h2>
        </section>
        <section>
          <section>
            <h1>What is Frontend Development?</h1>
            <ul>
              <li>
                üë®‚Äçüíª Focuses on the
                <strong>user-facing</strong>
                part of a web application
              </li>
              <li>üñ•Ô∏è Everything users see and interact with in their browser</li>
              <li>
                ‚öôÔ∏è Built with
                <strong>HTML, CSS, and JavaScript</strong>
              </li>
              <li>üé® Involves design, layout, interactivity, and responsiveness</li>
              <li>üì± Must work across devices and screen sizes</li>
            </ul>
          </section>
          <section>
            <h1>Frontend Developer Responsibilities</h1>
            <ul>
              <li>Designing and building UIs (buttons, menus, forms)</li>
              <li>Implementing layouts with responsive design</li>
              <li>Connecting to APIs to display dynamic data</li>
              <li>Handling user input and interactions</li>
              <li>Ensuring performance and accessibility</li>
            </ul>
          </section>
          <section>
            <h1>Modern Frontend Stack</h1>
            <ul>
              <li>
                <strong>HTML</strong>
                : content structure
              </li>
              <li>
                <strong>CSS</strong>
                : visual styling & layout
              </li>
              <li>
                <strong>JavaScript</strong>
                : behavior & logic
              </li>
              <li>
                <strong>Frameworks</strong>
                : React, Vue, Angular
              </li>
              <li>
                <strong>Tooling</strong>
                : Vite, npm, ESLint, Prettier
              </li>
              <li>
                <strong>Testing</strong>
                : Jest, Playwright, React Testing Library
              </li>
            </ul>
          </section>
        </section>

        <section>
          <section>
            <h1>What is React?</h1>
            <ul>
              <li>
                React lets you build user interfaces out of individual pieces called components.
              </li>
              <li>
                You can create your own React components like Thumbnail, LikeButton, and Video.
              </li>
              <li>Then combine them into entire screens, pages, and apps.</li>
            </ul>
            <img src="react-intro-01.png" alt="React Intro" />
          </section>
          <section>
            <h1>Components are JS functions</h1>
            <img width="80%" src="react-intro-02.png" alt="React Intro" />
            <ul>
              <li>
                Want to show some content conditionally? Use an
                <code>if</code>
                statement. Displaying a list? Try array
                <code>map()</code>
                .
              </li>
              <li>
                This markup syntax is called JSX. It is a JavaScript syntax extension popularized by
                React.
              </li>
              <li>
                Putting JSX markup close to related rendering logic makes React components easy to
                create, maintain, and delete.
              </li>
            </ul>
          </section>
          <section>
            <h1>Why Use React?</h1>
            <ul>
              <li>
                üîÅ
                <strong>Component-based</strong>
                architecture
              </li>
              <li>
                ‚ö° Efficient
                <strong>virtual DOM</strong>
                for fast UI updates
              </li>
              <li>
                üß†
                <strong>Declarative</strong>
                UI programming: describe what to render
              </li>
              <li>üì¶ Huge ecosystem and community</li>
              <li>üí™ Backed by Meta (Facebook)</li>
            </ul>
          </section>
          <section>
            <h1>Core Concepts in React</h1>
            <ul>
              <li>
                <strong>JSX</strong>
                : HTML-like syntax in JavaScript
              </li>
              <li>
                <strong>Components</strong>
                : Reusable UI blocks
              </li>
              <li>
                <strong>Props</strong>
                : Data passed to components
              </li>
              <li>
                <strong>State</strong>
                : Local component data
              </li>
              <li>
                <strong>Hooks</strong>
                : Functions to manage state and lifecycle
              </li>
            </ul>
          </section>
        </section>

        <section>
          <section>
            <h1>Getting Started</h1>
            <ul>
              <li>
                The easiest way to get started by far is by using
                <a href="https://vitejs.dev/" target="_blank">Vite</a>
                .
              </li>
              <li>
                Let's create an application called
                <i>introdemo</i>
                , navigate to its directory and install the libraries:
              </li>
            </ul>
            <pre>
              <code data-trim class="language-bash">
                npm create vite@latest introdemo -- --template react

                cd introdemo

                npm install
              </code>
            </pre>
          </section>
          <section>
            <h1>Running the application</h1>
            <div
              style="display: flex; gap: 0em; align-items: center; justify-content: space-around"
            >
              <ul>
                <li>
                  The application starts with
                  <code>npm run dev</code>
                </li>
                <li>
                  Vite starts the application
                  <a
                    href="https://vitejs.dev/config/server-options.html#server-port"
                    target="_blank"
                  >
                    by default
                  </a>
                  on port 5173. If it is not free, Vite uses the next free port number.
                </li>
              </ul>
              <div>
                <img src="vite-server-introdemo-react.png" alt="Vite server" />
              </div>
            </div>
          </section>
          <section>
            <p>
              Open the browser and a text editor so that you can view the code as well as the
              webpage at the same time on the screen:
            </p>
            <div style="display: flex; justify-content: center">
              <div>
                <img width="40%" src="vite-react-intro.png" alt="Vite React Intro" />
              </div>
              <div>
                <img width="40%" src="vite-react-files.png" alt="Vite React Files" />
              </div>
            </div>
          </section>
          <section>
            <ul>
              <li>
                The code of the application resides in the
                <code>src</code>
                folder.
              </li>
              <li>
                By default, the file
                <code>index.html</code>
                doesn't contain any HTML markup that is visible to us in the browser:
              </li>
              <li>
                You can try adding there some HTML to the file. However, when using React, all
                content that needs to be rendered is usually defined as React components.
              </li>
              <li>
                The command on the final line of file
                <code>main.jsx</code>
                renders its contents into the div-element, defined in the file
                <code>index.html</code>
                , having the id value
                <em>root</em>
                .
              </li>
            </ul>
            <div style="display: flex; justify-content: center">
              <pre><code class="language-html" data-trim>
              &lt;!doctype html&gt;
              &lt;html lang="en"&gt;
                &lt;head&gt;
                  &lt;meta charset="UTF-8" /&gt;
                  &lt;link rel="icon" type="image/svg+xml" href="/vite.svg" /&gt;
                  &lt;meta name="viewport" content="width=device-width, initial-scale=1.0" /&gt;
                  &lt;title&gt;Vite + React&lt;/title&gt;
                &lt;/head&gt;
                &lt;body&gt;
                  &lt;div id="root"&gt;&lt;/div&gt;
                  &lt;script type="module" src="/src/main.jsx"&gt;&lt;/script&gt;
                &lt;/body&gt;
              &lt;/html&gt;
            </code></pre>
              <pre>
              <code data-trim class="language-jsx">
                <script type="text/template">
                import { StrictMode } from 'react'
                import { createRoot } from 'react-dom/client'
                import './index.css'
                import App from './App.jsx'

                createRoot(document.getElementById('root')).render(
                  <StrictMode>
                    <App />
                  </StrictMode>,
                )
              </script>
              </code>
            </pre>
            </div>
          </section>
          <section>
            <h1>React StrictMode</h1>
            <ul>
              <li>
                <code>&lt;StrictMode&gt;</code>
                is a developer tool that helps you write better React code.
              </li>
              <li>
                It activates
                <strong>additional checks and warnings</strong>
                during development:
                <ul>
                  <li>Highlights unsafe lifecycle methods</li>
                  <li>Detects unexpected side effects</li>
                  <li>Warns about legacy API usage</li>
                  <li>Identifies components with duplicate rendering</li>
                </ul>
              </li>
              <li>
                <strong>Only runs in development</strong>
                - it has no impact on production builds.
              </li>
              <li>
                <strong>You should not remove it!</strong>
                It ensures your app is future-proof and clean.
              </li>
            </ul>
          </section>

          <section>
            <p>
              Let's simplify the default code such that the contents of the files
              <strong>App.jsx</strong>
              and
              <strong>App.css</strong>
              look like this:
            </p>
            <div style="display: flex; justify-content: center; gap: 1em; margin-bottom: 1em">
              <pre>
                <code data-trim class="language-jsx">
                  <script type="text/template">
                  import './App.css';

                  const App = () => {
                    console.log('Hello from component');
                    return (
                      <div>
                        <p>Hello world</p>
                      </div>
                    );
                  };

                  export default App;
                  </script>
                </code>
              </pre>
              <pre>
                <code data-trim class="language-css">
                  #root {
                    max-width: 1280px;
                    margin: 0 auto;
                    padding: 2rem;
                    text-align: center;
                  }
                </code>
              </pre>
            </div>

            <p>
              The file
              <code>App.jsx</code>
              defines a
              <strong>React component</strong>
              with the name
              <code>App</code>
              . The component will be rendered as a
              <code>div-tag</code>
              , which wraps a
              <code>p-tag</code>
              containing the text
              <em>Hello world</em>
              .
            </p>
          </section>
          <section>
            <p>It is also possible to render dynamic content inside of a component.</p>
            <pre>
              <code data-trim class="language-jsx">
                <script type="text/template">
                  const App = () => {
                    const now = new Date()
                    const a = 10
                    const b = 20
                    console.log(now, a+b)

                    return (
                      <div>
                        <p>Hello world, it is {now.toString()}</p>
                        <p>
                          {a} plus {b} is {a + b}
                        </p>
                      </div>
                    )
                  }
                </script>
              </code>
            </pre>
            <p>
              Any JavaScript code within the curly braces is evaluated and the result of this
              evaluation is embedded into the defined place in the HTML produced by the component.
            </p>
          </section>
          <section>
            <h1>Writing markup with JSX</h1>
            <ul>
              <li>
                The markup syntax you've seen above is called
                <em>JSX</em>
                .
              </li>
              <li>It is optional, but most React projects use JSX for its convenience.</li>
              <li>
                JSX is stricter than HTML:
                <ul>
                  <li>
                    You have to close tags like
                    <code>&lt;br /&gt;</code>
                    .
                  </li>
                  <li>Your component also can't return multiple JSX tags.</li>
                  <li>
                    You have to wrap them into a shared parent, like a
                    <code>&lt;div&gt;...&lt;/div&gt;</code>
                    or an empty
                    <code>&lt;&gt;...&lt;/&gt;</code>
                    wrapper:
                  </li>
                </ul>
              </li>
            </ul>
            <pre>
              <code data-trim class="language-jsx">
                <script type="text/template">
                  function AboutPage() {
                    return (
                      <>
                        <h1>About</h1>
                        <p>Hello there.<br />How do you do?</p>
                      </>
                    );
                  }
                </script>
              </code>
            </pre>
          </section>
        </section>
        <section>
          <section>
            <h1>Components</h1>
            <div
              style="display: flex; justify-content: space-around; align-items: center; gap: 1em"
            >
              <ul>
                <li>
                  React apps are made out of
                  <em>components</em>
                  .
                  <ul>
                    <li>
                      A component is a piece of the UI that has its own
                      <strong>logic</strong>
                      and
                      <strong>appearance</strong>
                      .
                    </li>
                    <li>
                      It can be as small as a
                      <strong>button</strong>
                      , or as large as an
                      <strong>entire page</strong>
                      .
                    </li>
                    <li>React components are JavaScript functions that return markup</li>
                  </ul>
                </li>
                <li>
                  Notice that
                  <code>&lt;Hello /&gt;</code>
                  starts with a capital letter. That‚Äôs how you know it‚Äôs a React component. React
                  component names must always start with a capital letter, while HTML tags must be
                  lowercase.
                </li>
                <li>
                  The
                  <code>export default</code>
                  keywords specify the main component in the file. If you‚Äôre not familiar with some
                  piece of JavaScript syntax,
                  <a
                    href="https://developer.mozilla.org/en-US/docs/web/javascript/reference/statements/export"
                    target="_blank"
                  >
                    MDN
                  </a>
                  and
                  <a href="https://javascript.info/import-export" target="_blank">
                    javascript.info
                  </a>
                  have great references.
                </li>
                <li>Naturally, a component can be used multiple times</li>
              </ul>
              <pre>
                <code data-trim class="language-jsx">
                  <script type="text/template">
                    const Hello = () => {
                      return (
                        <div>
                          <p>Hello world</p>
                        </div>
                      );
                    };

                    const App = () => {
                      return (
                        <div>
                          <h1>Greetings</h1>

                          <Hello />
                        </div>
                      );
                    };

                    export default App;
                  </script>
                </code>
              </pre>
            </div>
          </section>
          <section>
            <h1>Props: passing data to components</h1>
            <p>
              It is possible to pass data to components using so-called
              <a href="https://react.dev/learn/passing-props-to-a-component" target="_blank">
                props
              </a>
              .
            </p>
            <pre>
              <code data-trim class="language-jsx">
                <script type="text/template">
                  const Hello = (props) => {
                    return (
                      <div>

                        <p>Hello {props.name}</p>
                      </div>
                    )
                  }

                  const App = () => {
                    return (
                      <div>
                        <h1>Greetings</h1>
                        <Hello name='George' />
                        <Hello name='Daisy' />
                      </div>
                    )
                  }
                </script>
              </code>
            </pre>
          </section>
          <section>
            <div
              style="display: flex; justify-content: space-around; align-items: center; gap: 1em"
            >
              <ul>
                <li>
                  There can be an arbitrary number of props and their values can be "hard-coded"
                  strings or the results of JavaScript expressions.
                </li>
                <li>
                  If the value of the prop is achieved using JavaScript it must be wrapped with
                  curly braces.
                </li>
                <li>
                  The props sent by the component
                  <i>App</i>
                  are the values of the variables, the result of the evaluation of the sum
                  expression and a regular string.
                </li>
              </ul>
              <pre>
                <code data-trim class="language-jsx">
                  <script type="text/template">
                    const Hello = (props) => {

                      console.log(props)
                      return (
                        <div>
                          <p>

                            Hello {props.name}, you are {props.age} years old
                          </p>
                        </div>
                      )
                    }

                    const App = () => {

                      const name = 'Peter'
                      const age = 10

                      return (
                        <div>
                          <h1>Greetings</h1>

                          <Hello name='Maya' age={26 + 10} />
                          <Hello name={name} age={age} />
                        </div>
                      )
                    }
                  </script>
                </code>
              </pre>
            </div>
          </section>
          <section>
            <div
              style="display: flex; justify-content: space-around; align-items: center; gap: 1em"
            >
              <ul>
                <li>
                  Component
                  <i>Hello</i>
                  also logs the value of the object props to the console.
                </li>
                <li>
                  The
                  <strong>console</strong>
                  should always be open!
                </li>
              </ul>
              <img width="50%" src="react-greetings-console.png" alt="React Greetings Console" />
            </div>
          </section>
          <section>
            <h1>Component helper functions</h1>
            <p>
              Let's expand our
              <i>Hello</i>
              component so that it guesses the year of birth of the person being greeted:
            </p>
            <pre>
              <code data-trim class="language-jsx">
                const Hello = (props) =&gt; {

                  const bornYear = () =&gt; {
                    const yearNow = new Date().getFullYear()
                    return yearNow - props.age
                  }

                  return (
                    <div>
                      <p>
                        Hello {props.name}, you are {props.age} years old
                      </p>

                      <p>So you were probably born in {bornYear()}</p>
                    </div>
                  )
                }
              </code>
            </pre>
          </section>
        </section>
        <section>
          <section>
            <h1>üõ† React Developer Tools</h1>
            <ul>
              <li>Browser extension for debugging and inspecting React apps</li>
              <li>Helps understand how components render and update</li>
              <li>Works with React in development mode</li>
            </ul>
          </section>

          <section>
            <h1>üîç Features of React DevTools</h1>
            <ul>
              <li>
                <strong>Component Inspector</strong>
                - See your app's component tree
              </li>
              <li>
                <strong>Props & State Viewer</strong>
                - View and edit component data
              </li>
              <li>
                <strong>Component Search</strong>
                - Quickly find a component by name
              </li>
              <li>
                <strong>Performance Profiler</strong>
                - Analyze render times and bottlenecks
              </li>
              <li>
                <strong>Hooks Inspector</strong>
                - See hook values inside components
              </li>
            </ul>
          </section>

          <section>
            <h1>üîß Installation</h1>
            <ul>
              <li>Install the browser extension:</li>
              <ul>
                <li>
                  <a
                    href="https://chromewebstore.google.com/detail/react-developer-tools/fmkadmapgofadopljbjfkapdkoienihi"
                    target="_blank"
                  >
                    Chrome Web Store
                  </a>
                </li>
                <li>
                  <a
                    href="https://addons.mozilla.org/en-US/firefox/addon/react-devtools/"
                    target="_blank"
                  >
                    Firefox Add-ons
                  </a>
                </li>
              </ul>
              <li>Once installed, open your app in development mode</li>
              <li>Open DevTools ‚Üí Look for the "‚öõÔ∏è Components" and "Profiler" tabs</li>
            </ul>
          </section>

          <section>
            <h1>üìä Using the Profiler</h1>
            <ul>
              <li>Tracks how long components take to render</li>
              <li>Identify unnecessary re-renders</li>
              <li>Use for performance optimizations</li>
              <li>
                Wrap your app in
                <code>&lt;React.Profiler&gt;</code>
                or just click "Record" in the Profiler tab
              </li>
            </ul>
          </section>

          <section>
            <h1>üß™ Live Editing</h1>
            <ul>
              <li>You can update props and state directly in DevTools</li>
              <li>See how the UI changes in real-time</li>
              <li>Useful for debugging and testing component behavior</li>
            </ul>
          </section>

          <section>
            <h1>Example View</h1>
            <img src="react-dev-tools.png" alt="React DevTools Screenshot" width="100%" />
          </section>
        </section>
        <section>
          <section>
            <h1>Adding Styles</h1>
            <p>
              In React, you specify a CSS class with
              <code>className</code>
              . It works the same way as the
              <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/class">
                HTML
              </a>
              class attribute:
            </p>
            <pre>
              <code data-trim class="language-html">
                <script type="text/template">
                  <img className="avatar" />
                </script>
              </code>
            </pre>
            <p>Then you write the CSS rules for it in a separate CSS file:</p>
            <pre>
              <code data-trim class="language-css">
                <script type="text/template">
                  /* In your CSS */
                  .avatar {
                    border-radius: 50%;
                  }
                </script>
              </code>
            </pre>
          </section>
          <section>
            <img src="avatar.png" alt="Avatar" width="100%" />
          </section>
        </section>
        <section>
          <section>
            <h1>Conditional Rendering</h1>
            <p>
              In React, there is no special syntax for writing conditions. Instead, you‚Äôll use the
              same techniques as you use when writing regular JavaScript code. For example, you can
              use an
              <a
                href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/if...else"
                target="_blank"
              >
                if
              </a>
              statement to conditionally include JSX:
            </p>
            <pre>
              <code data-trim class="language-jsx">
                <script type="text/template">
                  let content;
                  if (isLoggedIn) {
                    content = <AdminPanel />;
                  } else {
                    content = <LoginForm />;
                  }
                  return (
                    <div>
                      {content}
                    </div>
                  );
                </script>
              </code>
            </pre>
          </section>
          <section>
            <p>
              If you prefer more compact code, you can use the
              <a
                href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Conditional_Operator"
                target="_blank"
              >
                conditional ? operator.
              </a>
              Unlike
              <code>if</code>
              , it works inside JSX:
            </p>
            <pre>
              <code data-trim class="language-html">
                <script type="text/template">
                  <div>
                    {isLoggedIn ? (
                      <AdminPanel />
                    ) : (
                      <LoginForm />
                    )}
                  </div>
                </script>
              </code>
            </pre>
            <p>
              When you don't need the
              <code>else</code>
              branch, you can also use a shorter
              <a
                href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Logical_AND#short-circuit_evaluation"
                target="_blank"
              >
                logical
                <code>&amp;&amp;</code>
                syntax
              </a>
              :
            </p>
            <pre>
              <code data-trim class="language-html">
                <script type="text/template">
                  <div>
                    {isLoggedIn && <AdminPanel />}
                  </div>
                </script>
              </code>
            </pre>
          </section>
          <section>
            <h1>Rendering Lists</h1>
            <p>
              You will rely on JavaScript features like
              <a
                href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/for"
                target="_blank"
              >
                for loop
              </a>
              and the
              <a
                href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map"
                target="_blank"
              >
                array map() function
              </a>
              to render lists of components.
            </p>
            <pre>
              <code data-trim class="language-jsx">
                <script type="text/template">
                  const products = [
                    { title: 'Cabbage', id: 1 },
                    { title: 'Garlic', id: 2 },
                    { title: 'Apple', id: 3 },
                  ];

                  const listItems = products.map(product =>
                    <li key={product.id}>
                      {product.title}
                    </li>
                  );

                  return (
                    <ul>{listItems}</ul>
                  );
                </script>
              </code>
            </pre>
            <p>
              Notice how
              <code>&lt;li&gt;</code>
              has a
              <code>key</code>
              attribute. For each item in a list, you should pass a string or a number that uniquely
              identifies that item among its siblings.
            </p>
            <p>
              Usually, a key should be coming from your data, such as a database ID. React uses your
              keys to know what happened if you later insert, delete, or reorder the items.
            </p>
          </section>
          <section>
            <h1>Example</h1>
            <pre>
              <code data-trim class="language-jsx">
                <script type="text/template">
                  const products = [
                    { title: 'Cabbage', isFruit: false, id: 1 },
                    { title: 'Garlic', isFruit: false, id: 2 },
                    { title: 'Apple', isFruit: true, id: 3 },
                  ];

                  export default function ShoppingList() {
                    const listItems = products.map(product =>
                      <li
                        key={product.id}
                        style={{
                          color: product.isFruit ? 'green' : 'red'
                        }}
                      >
                        {product.title}
                      </li>
                    );

                    return (
                      <ul>{listItems}</ul>
                    );
                  }
                </script>
              </code>
            </pre>
          </section>
        </section>
        <section>
          <section>
            <h1>Stateful Components</h1>
            <ul>
              <li>
                All of our components up till now have been simple in the sense that they have not
                contained any state that could change during the lifecycle of the component.
              </li>
              <li>
                Often, you'll want your component to
                <strong>remember</strong>
                some information and display it. For example, maybe you want to count the number of
                times a button is clicked. To do this, add
                <strong>state</strong>
                to your component.
              </li>
              <li>
                State is a way to store information that can change over time. It is a way to make
                your component dynamic and interactive.
              </li>
            </ul>
          </section>
          <section>
            <h1>Responding to Events</h1>
            <p>
              You can respond to events by declaring
              <em>event handler</em>
              functions inside your components:
            </p>
            <pre>
              <code data-trim class="language-jsx">
                <script type="text/template">
                  function MyButton() {
                    function handleClick() {
                      alert('You clicked me!');
                    }

                    return (
                      <button onClick={handleClick}>
                        Click me
                      </button>
                    );
                  }
                </script>
              </code>
            </pre>
            <p>
              Notice how
              <code>onClick={handleClick}</code>
              has no parentheses at the end! Do not
              <em>call</em>
              the event handler function: you only need to
              <em>pass it down</em>
              . React will call your event handler when the user clicks the button.
            </p>
          </section>
          <section>
            <div
              style="
                display: flex;
                gap: 1rem;
                align-items: flex-start;
                justify-content: space-between;
              "
            >
              <div>
                <ul>
                  <li>
                    First, import
                    <code>useState</code>
                    from React. Now you can declare a state variable inside your component
                  </li>
                  <li>
                    You'll get two things from
                    <code>useState</code>
                    : the current state (
                    <code>count</code>
                    ), and the function that lets you update it (
                    <code>setCount</code>
                    ). You can give them any names, but the convention is to write
                    <code>[something, setSomething]</code>
                    .
                  </li>
                  <li>
                    The first time the button is displayed,
                    <code>count</code>
                    will be
                    <code>0</code>
                    because you passed
                    <code>0</code>
                    to
                    <code>useState()</code>
                    . When you want to change state, call
                    <code>setCount()</code>
                    and pass the new value to it. Clicking this button will increment the counter:
                  </li>
                  <li>
                    React will call your component function again. This time,
                    <code>count</code>
                    will be
                    <code>1</code>
                    . Then it will be
                    <code>2</code>
                    . And so on.
                  </li>
                  <li>
                    If you render the same component multiple times, each will get its own state.
                    Notice how each button ‚Äúremembers‚Äù its own
                    <code>count</code>
                    state and doesn't affect other buttons.
                  </li>
                  <li>
                    When the state modifying function
                    <code>setCounter</code>
                    is called, React
                    <strong>re-renders</strong>
                    the component
                  </li>
                </ul>
              </div>
              <div style="width: 40%">
                <pre>
                  <code data-trim class="language-jsx">
                    <script type="text/template">
                      // Button.jsx
                      import { useState } from 'react';

                      export default function Button() {
                        const [count, setCount] = useState(0);

                        function handleClick() {
                          setCount(count + 1);
                        }

                        return <button onClick={handleClick}>Clicked {count} times</button>;
                      }



                      // App.jsx
                      import './App.css';
                      import Button from './Button.jsx';

                      const App = () => {
                        return (
                          <div>
                            <Button />
                            <Button />
                          </div>
                        );
                      };
                    </script>
                  </code>
                </pre>
              </div>
            </div>
          </section>
          <section>
            <h1>Hooks</h1>
            <ul>
              <li>
                Functions starting with
                <code>use</code>
                are called
                <em>Hooks</em>
                .
              </li>
              <li>
                <code>useState</code>
                is a built-in Hook provided by React. You can find other built-in Hooks in the
                <a
                  class="inline text-link dark:text-link-dark border-b border-link border-opacity-0 hover:border-opacity-100 duration-100 ease-in transition leading-normal"
                  href="https://react.dev/reference/react"
                >
                  API reference.
                </a>
              </li>
              <li>You can also write your own Hooks by combining the existing ones.</li>
              <li>
                Hooks are more restrictive than other functions. You can only call Hooks
                <em>at the top</em>
                of your components (or other Hooks). If you want to use
                <code>useState</code>
                in a condition or a loop, extract a new component and put it there.
              </li>
            </ul>
          </section>
          <section>
            <h1>Sharing data between components</h1>
            <p>
              In the previous example, each
              <code>MyButton</code>
              had its own independent
              <code>count</code>
              , and when each button was clicked, only the
              <code>count</code>
              for the button clicked changed:
            </p>
            <div style="display: flex; justify-content: center">
              <div>
                <img
                  style="width: 50%"
                  src="https://react.dev/_next/image?url=%2Fimages%2Fdocs%2Fdiagrams%2Fsharing_data_child.png&w=828&q=75"
                  alt="Sharing data between components"
                />
                <p>Initially, each MyButton's count state is 0</p>
              </div>
              <div>
                <img
                  style="width: 50%"
                  src="https://react.dev/_next/image?url=%2Fimages%2Fdocs%2Fdiagrams%2Fsharing_data_child_clicked.png&w=828&q=75"
                  alt="Sharing data between components"
                />
                <p>The first MyButton updates its count to 1</p>
              </div>
            </div>
          </section>
          <section>
            <h1>Sharing data between components</h1>
            <ul>
              <li>
                However, often you'll need components to
                <em>share data and always update together</em>
                .
              </li>
              <li>
                To make both
                <code>MyButton</code>
                components display the same
                <code>count</code>
                and update together, you need to move the state from the individual buttons
                <strong>upwards</strong>
                to the closest component containing all of them.
              </li>
            </ul>
            <div style="display: flex; justify-content: center">
              <div>
                <img
                  style="width: 50%"
                  src="https://react.dev/_next/image?url=%2Fimages%2Fdocs%2Fdiagrams%2Fsharing_data_parent.png&w=828&q=75"
                  alt="Sharing data between components"
                />
                <p>Initially, MyApp's count state is 0 and is passed down to both children</p>
              </div>
              <div>
                <img
                  style="width: 50%"
                  src="https://react.dev/_next/image?url=%2Fimages%2Fdocs%2Fdiagrams%2Fsharing_data_parent_clicked.png&w=828&q=75"
                  alt="Sharing data between components"
                />
                <p>
                  On click, MyApp updates its count state to 1 and passes it down to both children
                </p>
              </div>
            </div>
          </section>
          <section>
            <img width="50%" src="CountersUpdateTogether.png" alt="CountersUpdateTogether" />
            <pre>
              <code data-trim class="language-jsx">
                <script type="text/template">
                  import { useState } from 'react';

                  export default function CountersUpdatingTogether() {
                    const [count, setCount] = useState(0);

                    function handleClick() {
                      setCount(count + 1);
                    }

                    return (
                      <div>
                        <h1>Counters that update together</h1>
                        <MyButton count={count} onClick={handleClick} />
                        <MyButton count={count} onClick={handleClick} />
                      </div>
                    );
                  }

                  function MyButton({ count, onClick }) {
                    return <button onClick={onClick}>Clicked {count} times</button>;
                  }

                </script>
              </code>
            </pre>
          </section>
          <section>
            <h1>Passing state to child components</h1>
            <ul>
              <li>
                It's recommended to write React components that are small and reusable across the
                application and even across projects.
              </li>
              <li>
                Let's refactor our application so that it's composed of three smaller components,
                one component for displaying the counter and two components for buttons.
              </li>
              <li>
                One best practice in React is to lift the state up in the component hierarchy.
              </li>
            </ul>
          </section>
          <section>
            <h1>Improved Buttons</h1>
            <img src="ImprovedButtons.png" alt="ImprovedButtons" />
            <pre>
              <code data-trim class="language-jsx">
                <script type="text/template">
                  import { useState } from 'react';

                  const Button = (props) => {
                    return <button onClick={props.onClick}>{props.text}</button>;
                  };

                  const Display = (props) => {
                    return <div>{props.counter}</div>;
                  };

                  const ImprovedButtons = () => {
                    const [counter, setCounter] = useState(0);

                    const increaseByOne = () => setCounter(counter + 1);
                    const decreaseByOne = () => setCounter(counter - 1);
                    const setToZero = () => setCounter(0);

                    return (
                      <div>
                        <Display counter={counter} />
                        <Button onClick={increaseByOne} text="plus" />
                        <Button onClick={setToZero} text="zero" />
                        <Button onClick={decreaseByOne} text="minus" />
                      </div>
                    );
                  };

                  export default ImprovedButtons;

                </script>
              </code>
            </pre>
          </section>
          <section>
            <h1>Changes in state cause re-rendering</h1>
            <div
              style="
                display: flex;
                justify-content: stretch;
                align-items: center;
                gap: 1em;
                text-align: left;
              "
            >
              <div style="width: 70%">
                <ul>
                  <li>
                    This code uses a
                    <a href="https://react.dev/reference/react/useState">useState</a>
                    hook to create the application state, setting an initial value of the variable
                    <em>counter</em>
                    .
                  </li>
                  <li>
                    This component contains the
                    <em>Display</em>
                    component - which displays the counter's value, 0 - and three
                    <em>Button</em>
                    components.
                  </li>
                  <li>
                    The buttons all have event handlers, which are used to change the state of the
                    counter.
                  </li>
                  <li>
                    When one of the buttons is clicked, the event handler is executed. The event
                    handler changes the state of the
                    <em>App</em>
                    component with the
                    <em>setCounter</em>
                    function.
                  </li>
                  <li>
                    <strong>
                      Calling a function that changes the state causes the component to re-render.
                    </strong>
                  </li>
                </ul>
              </div>
              <div style="width: 30%">
                <pre>
                  <code data-trim class="language-jsx">
                    <script type="text/template">
                      // ImprovedButtons.jsx

                      import { useState } from 'react';

                      const Button = (props) => {
                        return <button onClick={props.onClick}>{props.text}</button>;
                      };

                      const Display = (props) => {
                        return <div>{props.counter}</div>;
                      };

                      const ImprovedButtons = () => {
                        const [counter, setCounter] = useState(0);

                        const increaseByOne = () => setCounter(counter + 1);
                        const decreaseByOne = () => setCounter(counter - 1);
                        const setToZero = () => setCounter(0);

                        return (
                          <div>
                            <Display counter={counter} />
                            <Button onClick={increaseByOne} text="plus" />
                            <Button onClick={setToZero} text="zero" />
                            <Button onClick={decreaseByOne} text="minus" />
                          </div>
                        );
                      };

                    </script>
                  </code>
                </pre>
              </div>
            </div>
          </section>
          <section>
            <pre>
              <code data-trim class="language-jsx">
                <script type="text/template">
                  // ImprovedButtons.jsx

                  import { useState } from 'react';

                  const Button = (props) => {
                    return <button onClick={props.onClick}>{props.text}</button>;
                  };

                  const Display = (props) => {
                    return <div>{props.counter}</div>;
                  };

                  const ImprovedButtons = () => {
                    const [counter, setCounter] = useState(0);
                    console.log('rendering with counter value', counter);

                    const increaseByOne = () => {
                      console.log('increasing, value before', counter);
                      setCounter(counter + 1);
                    };

                    const decreaseByOne = () => {
                      console.log('decreasing, value before', counter);
                      setCounter(counter - 1);
                    };

                    const setToZero = () => {
                      console.log('resetting to zero, value before', counter);
                      setCounter(0);
                    };

                    return (
                      <div>
                        <Display counter={counter} />
                        <Button onClick={increaseByOne} text="plus" />
                        <Button onClick={setToZero} text="zero" />
                        <Button onClick={decreaseByOne} text="minus" />
                      </div>
                    );
                  };

                  export default ImprovedButtons;

                </script>
              </code>
            </pre>
          </section>
        </section>
        <section>
          <section>
            <h1>Complex State</h1>
            <ul>
              <li>
                In our previous example, the application state was simple as it was comprised of a
                single integer.
              </li>
              <li>What if our application requires a more complex state?</li>
              <li>
                In most cases, the easiest and best way to accomplish this is by using the
                <code>useState</code>
                function multiple times to create separate
                <em>pieces</em>
                of state.
              </li>
            </ul>
          </section>
          <section>
            <div
              style="display: flex; justify-content: space-around; align-items: center; gap: 1em"
            >
              <div>
                <ul>
                  <li>
                    In the following code we create two pieces of state for the application named
                    <em>left</em>
                    and
                    <em>right</em>
                    that both get the initial value of 0:
                  </li>
                  <li>
                    The component gets access to the functions
                    <code>setLeft</code>
                    and
                    <code>setRight</code>
                    that it can use to update the two pieces of state.
                  </li>
                </ul>
              </div>
              <div>
                <pre>
                  <code data-trim class="language-jsx">
                    <script type="text/template">
                      // ComplexState.jsx

                      import { useState } from 'react';

                      const ComplexState = () => {
                        const [left, setLeft] = useState(0);
                        const [right, setRight] = useState(0);

                        return (
                          <div>
                            {left}
                            <button onClick={() => setLeft(left + 1)}>left</button>
                            <button onClick={() => setRight(right + 1)}>right</button>
                            {right}
                          </div>
                        );
                      };

                      export default ComplexState;


                    </script>
                  </code>
                </pre>
              </div>
            </div>
          </section>
          <section>
            <div
              style="display: flex; justify-content: space-around; align-items: center; gap: 1em"
            >
              <div>
                <ul>
                  <li>The component's state or a piece of its state can be of any type.</li>
                  <li>
                    We could implement the same functionality by saving the click count of both the
                    <i>left</i>
                    and
                    <i>right</i>
                    buttons into a single object
                  </li>
                  <li>
                    Now the component only has a single piece of state and the event handlers have
                    to take care of changing the
                    <strong>entire application state</strong>
                    .
                  </li>
                  <li>The event handler looks a bit messy.</li>
                </ul>
              </div>
              <div>
                <pre>
                  <code data-trim class="language-jsx">
                    <script type="text/template">
                      const ComplexState = () => {
                        const [clicks, setClicks] = useState({
                          left: 0, right: 0
                        })

                        const handleLeftClick = () => {
                          const newClicks = {
                            left: clicks.left + 1,
                            right: clicks.right
                          }
                          setClicks(newClicks)
                        }

                        const handleRightClick = () => {
                          const newClicks = {
                            left: clicks.left,
                            right: clicks.right + 1
                          }
                          setClicks(newClicks)
                        }

                        return (
                          <div>
                            {clicks.left}
                            <button onClick={handleLeftClick}>left</button>
                            <button onClick={handleRightClick}>right</button>
                            {clicks.right}
                          </div>
                        )
                      };
                    </script>
                  </code>
                </pre>
              </div>
            </div>
          </section>
          <section>
            <div
              style="display: flex; justify-content: space-around; align-items: center; gap: 1em"
            >
              <div>
                <ul>
                  <li>
                    We can define the new state object a bit more neatly by using the
                    <a
                      href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_syntax"
                      target="_blank"
                    >
                      object spread
                    </a>
                    syntax that was added to the language specification in the summer of 2018
                  </li>
                  <li>The syntax may seem a bit strange at first.</li>
                  <li>
                    In practice
                    <code>{ ...clicks }</code>
                    creates a new object that has copies of all of the properties of the
                    <code>clicks</code>
                    object.
                  </li>
                  <li>
                    When we specify a particular property - e.g.
                    <i>right</i>
                    in
                    <code>{ ...clicks, right: 1 }</code>
                    , the value of the
                    <code>right</code>
                    property in the new object will be 1.
                  </li>
                </ul>
              </div>
              <div>
                <pre>
                  <code data-trim class="language-jsx">
                    <script type="text/template">
                      const handleLeftClick = () => {
                        const newClicks = {
                          ...clicks,
                          left: clicks.left + 1
                        }
                        setClicks(newClicks)
                      }

                      const handleRightClick = () => {
                        const newClicks = {
                          ...clicks,
                          right: clicks.right + 1
                        }
                        setClicks(newClicks)
                      }
                    </script>
                  </code>
                </pre>
              </div>
            </div>
          </section>
          <section>
            <p>
              Assigning the object to a variable in the event handlers is not necessary and we can
              simplify the functions to the following form:
            </p>
            <pre>
              <code data-trim class="language-jsx">
                <script type="text/template">
                  const handleLeftClick = () => setClicks({ ...clicks, left: clicks.left + 1 })

                  const handleRightClick = () => setClicks({ ...clicks, right: clicks.right + 1 })
                </script>
              </code>
            </pre>
          </section>
          <section>
            <h1 style="color: red">Mutating state directly</h1>
            <pre>
              <code data-trim class="language-jsx">
                <script type="text/template">
                  const handleLeftClick = () => {
                    clicks.left++
                    setClicks(clicks)
                  }
                </script>
              </code>
            </pre>
            <ul>
              <li>Some of you might be wondering why we didn't just update the state directly</li>
              <li>
                The application appears to work. However,
                <i>it is forbidden in React to mutate state directly</i>
                , since
                <a href="https://stackoverflow.com/a/40309023" target="_blank">
                  it can result in unexpected side effects
                </a>
                .
              </li>
              <li>
                Changing state has to always be done by
                <strong>setting the state to a new object</strong>
                .
              </li>
              <li>
                If properties from the previous state object are not changed, they need to simply be
                copied, which is done by copying those properties into a new object and setting that
                as the new state.
              </li>
              <li>
                Storing all of the state in a single state object is a bad choice for this
                particular application; there's no apparent benefit and the resulting application is
                a lot more complex.
              </li>
              <li>
                In this case, storing the click counters into
                <strong>separate pieces of state</strong>
                is a far more suitable choice.
              </li>
              <li>
                There are situations where it can be beneficial to store a piece of application
                state in a more complex data structure.
                <a href="https://react.dev/learn/choosing-the-state-structure" target="_blank">
                  The official React documentation
                </a>
                contains some helpful guidance on the topic.
              </li>
            </ul>
          </section>
          <section>
            <h1>Handling Arrays in the State</h1>
            <p>
              Let's add a piece of state to our application containing an array
              <em>allClicks</em>
              that remembers every click that has occurred in the application.
            </p>
            <div
              style="display: flex; justify-content: space-around; align-items: center; gap: 1em"
            >
              <div>
                <ul>
                  <li>
                    Every click is stored in a separate piece of state called
                    <em>allClicks</em>
                    that is initialized as an empty array
                  </li>
                  <li>
                    When the
                    <em>left</em>
                    button is clicked, we add the letter
                    <em>L</em>
                    to the
                    <em>allClicks</em>
                    array:
                  </li>
                  <li>
                    The piece of state stored in
                    <em>allClicks</em>
                    is now set to be an array that contains all of the items of the previous state
                    array plus the letter
                    <em>L</em>
                    .
                  </li>
                  <li>
                    Adding the new item to the array is accomplished with the
                    <a
                      href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/concat"
                    >
                      concat
                    </a>
                    method, which does not mutate the existing array but rather returns a
                    <i>new copy of the array</i>
                    with the item added to it.
                  </li>
                  <li>
                    The component keeps track of the total number of button presses in the state
                    <em>total</em>
                    , whose value is always updated when the buttons are pressed.
                  </li>
                </ul>
              </div>
              <div>
                <pre>
                  <code data-trim class="language-jsx">
                    <script type="text/template">
                      const AllClicks = () => {
                        const [left, setLeft] = useState(0);
                        const [right, setRight] = useState(0);
                        const [allClicks, setAll] = useState([]);
                        const [total, setTotal] = useState(0);

                        const handleLeftClick = () => {
                          setAll(allClicks.concat('L'));
                          setLeft(left + 1);
                          setTotal(left + right);
                        };

                        const handleRightClick = () => {
                          setAll(allClicks.concat('R'));
                          setRight(right + 1);
                          setTotal(left + right);
                        };

                        return (
                          <div>
                            {left}
                            <button onClick={handleLeftClick}>left</button>
                            <button onClick={handleRightClick}>right</button>
                            {right}
                            <p>{allClicks.join(' ')}</p>
                            <p>total {total}</p>
                          </div>
                        );
                      };
                    </script>
                  </code>
                </pre>
              </div>
            </div>
          </section>
          <section>
            <h1>However ....</h1>
            <p>The solution does not quite work:</p>
            <img src="array-state.png" alt="Array state" width="20%" />
            <p>
              The total number of button presses is consistently one less than the actual amount of
              presses, for some reason.
            </p>
          </section>
          <section>
            <p>Let us add couple of console.log statements to the event handler:</p>
            <pre>
              <code data-trim class="language-jsx">
                <script type="text/template">
                  // ...
                  const handleLeftClick = () => {
                    setAll(allClicks.concat('L'))
                    console.log('left before', left)
                    setLeft(left + 1)
                    console.log('left after', left)
                    setTotal(left + right)
                  }

                  // ...
                </script>
              </code>
            </pre>
            <p>The console reveals the problem:</p>
            <ul>
              <li>left before 0</li>
              <li>left after 0</li>
              <li>left before 1</li>
              <li>left after 1</li>
            </ul>
          </section>
          <section>
            <p>
              Even though a new value was set for
              <em>left</em>
              by calling
              <code>setLeft(left + 1)</code>
              , the old value persists despite the update. As a result, the attempt to count button
              presses produces a result that is too small:
            </p>
            <p>
              The reason for this is that a state update in React happens
              <a href="https://react.dev/learn/queueing-a-series-of-state-updates" target="_blank">
                asynchronously
              </a>
              , i.e. not immediately but "at some point" before the component is rendered again.
            </p>
            <p>We can fix this as follows:</p>
            <pre>
              <code data-trim class="language-jsx">
                <script type="text/template">
                  // ...
                  const handleLeftClick = () => {
                    setAll(allClicks.concat('L'))

                    const updatedLeft = left + 1

                    setLeft(updatedLeft)

                    setTotal(updatedLeft + right)
                  }

                  // ...
                </script>
              </code>
            </pre>
          </section>
        </section>
        <section>
          <h1>References</h1>
          <ul>
            <li>
              <a href="https://react.dev/learn" target="_blank">React Official Documentation</a>
            </li>
            <li>
              <a href="https://egghead.io/courses/start-learning-react" target="_blank">
                React playlist on egghead.io
              </a>
            </li>
          </ul>
        </section>
      </div>
    </div>
    <script type="module" src="/main.js"></script>
  </body>
</html>
